	\begin{name}
		{Nguyễn Sỹ}
		{Đề thi Olympic Serbia năm 2018, vòng 1}
\end{name}
\setcounter{ex}{0}
\Opensolutionfile{ans}[ans/ans-1826-Nat.MO-serbia-r1]
\begin{ex}%[HSG Serbia năm 2018, vòng 1]%[Nguyễn Sỹ, Dự án EX-Nat.MO-18]%[9H0G2]
	Đường tròn nội tiếp $\triangle ABC$ có tâm $I$ và tiếp xúc với cạnh $BC$ tại $D$.
	Cho $P,Q$ lần lượt là hai điểm trên các cạnh $BI$ và $CI$ sao cho $\angle BAC = 2  \angle PAQ$.
	Chứng minh rằng $\angle PDQ =90^0.$
	
	 \hspace{11cm} \textit{(Du\v{s}an Djuki\'c)} 
	 \loigiai{
	 	\begin{center}
	 	\begin{tikzpicture}[scale=1.5, line join=round, line cap=round]
	 	
	 	\clip (-1,-1) rectangle (7,6);
	 	
	 	\tkzDefPoints{0/0/B,1/5/A,6/0/C}
	 %	\tkzDrawCircle[in](A,B,C)
	 	\tkzInCenter(A,B,C)\tkzGetPoint{I}
	 	\tkzDefPointBy[projection=onto C--B](I)\tkzGetPoint{D}
	 	\tkzDrawPolygon(A,B,C)
	 	\tkzDrawSegments(B,I C,I)
	 	%\coordinate (P) at ($(B)!0.7!(I)$);
	 	%\coordinate (Q) at ($(I)!0.4!(C)$);
	 	\coordinate (X) at ($(C)!0.5!(B)$);
	 		
	 	\tkzInCenter(A,B,X)\tkzGetPoint{P}
	 	\tkzInCenter(A,X,C)\tkzGetPoint{Q}
	 	\coordinate (M) at ($(P)!0.5!(Q)$);
	 	\tkzDefPointBy[projection=onto C--B](P)\tkzGetPoint{E}
	 		\tkzDefPointBy[projection=onto C--B](Q)\tkzGetPoint{F}
	 	\tkzDrawCircle[in,dashed](A,B,X)
	 		\tkzDrawCircle[in,dashed](A,C,X)
	 	\tkzDrawSegments(A,P A,Q P,Q A,X P,X Q,X)
	 %\tkzMarkAngles[size=0.4cm,arc=l](B,A,P)
	 %\tkzMarkAngles[size=0.45cm,arc=l](P,A,X)
	 \tkzCircumCenter(A,P,Q)\tkzGetPoint{J}
	\tkzInterLC(B,I)(J,A)\tkzGetPoints{N}{n}
	
	 
	\tkzMarkRightAngles[size=0.2](P,X,Q)
	 \tkzDrawSegments[dashed](P,E I,D Q,F D,P D,Q I,N N,Q)
	 \tkzMarkRightAngles[size=0.2](P,D,Q N,Q,I C,F,Q C,E,P)
	 
	 \tkzDrawPoints[size=5,fill=black](A,B,C,D,I,P,Q,E,F,M,N)
	 \tkzLabelPoints[below](B,C,D,X,E,F,M)
	 \tkzLabelPoints[above](A,I)
	 \tkzLabelPoints[left](P)
	 \tkzLabelPoints[right](Q,N)
	 	
	 	\end{tikzpicture}
	 \end{center}
	 	
	 Ký hiệu $E,F$ lần lượt là chân đường cao hạ từ $P$ và $Q$ xuống $BC$ và $M$ là trung điểm của đoạn thẳng $PQ$. \\
	 Trên cạnh $BC$, lấy điểm $X$ sao cho $\angle BAX = 2 \angle BAP$. Ta có $
	 \angle CAX = \angle BAC - 2 \angle BAP = 2 \angle CAQ.
	 $\\
	 Do đó, $P,Q$ lần lượt là tâm đường tròn nội tiếp của các tam giác $BAX$ và $CAX$. Vậy $XP$ và $XQ$ là các phân giác của $\angle BXA$ và $\angle CXA$, hay $\angle PXQ = 90^0$. 
	 
	 Điều kiện $\angle PDQ = 90^0$ tương đương với điều kiện $MD = MP = MQ=MX.$ Mặt khác, vì $ME=MF$ và
	 $DE=BD-BE = \dfrac{AB+BC-AC}{2} - \dfrac{AB+BX-AX}{2} = \dfrac{CX-AC+AX}{2}=XF$, ta có hai tam giác
	 $MED$ và $MFX$ phải bằng nhau. Từ đây, hiển nhiên $MD=MX$.\\
	 \textit{\underline{Cách giải 2.}} Gọi giao điểm thứ 2 của $BI$ và đường tròn ngoại tiếp $\triangle APQ$ là $N$. Ta có $\angle AIN = 180\circ - \angle BIA = 90^\circ - \dfrac{\gamma}{2} = \angle DIQ$. Hơn nữa,
	 vì $\angle INQ = \angle PAQ = \dfrac{\alpha}{2}$ và $\angle IQN = \angle BIC - \angle INQ = (90^\circ + \dfrac{\alpha}{2}) - \dfrac{\alpha}{2} =90^\circ$, nên ta có $\dfrac{IQ}{IN} = \sin \dfrac{\alpha}{2} = \dfrac{IA}{ID}$. Do đó, $\dfrac{IA}{IN} = \dfrac{ID}{IQ}$. Vậy các tam giác $DIQ$ và $AIN$ là đồng dạng và $\angle IDQ = \angle IAN = 180^0 - \angle AIN - \angle ANI = 180^0 - (90^0 - \dfrac{\gamma}{2}) - \angle ANP = 90^0 + \dfrac{\gamma}{2} - \angle AQP.$ 
	 
	 Tương tự, ta có $\angle IDP = 90^\circ + \dfrac{\beta}{2} - \angle APQ$. Cộng thêm cả hai vế $\angle IDQ$ thì $$\angle PDQ = 180^\circ + \dfrac{\beta + \gamma }{2} - (180^\circ - \angle PAQ) =90^\circ.$$
 }
\end{ex}
\begin{ex}%[HSG Serbia năm 2018, vòng 1]%[Nguyễn Sỹ, Dự án EX-Nat.MO-18]%[0D0G5]
	 Cho $n$ là một số nguyên dương lớn hơn 1. Một số nguyên $x$ gọi là \textit{dễ thương}
	nếu $x^2$ khi chia cho $n$ có phần dư là một số lẻ. Chứng minh rằng không thể tồn tại một dãy gồm $2+[\sqrt{3n}]$ số nguyên dương liên tiếp mà tất cả các số trong dãy này đều \textit{dễ thương}.
	
	\hspace{11cm} \textit{(Du\v{s}an Djuki\'c)} 
	\loigiai{
	Nếu $n$ chẵn, kết luận bài toán là hiển nhiên vì các số chẵn không \textit{dễ thương}. Ta xét trường hợp $n$ lẻ.\\
	Vì các số là bội của $n$ không \textit{dễ thương}, ta chỉ cần quan tâm đến các số $x \in 
	\{1,...,n-1 \}$. Giả sử $x$ và $x+1$ đều \textit{dễ thương}. Khi đó, phần dư của $x^2$ và 
	$(x+1)^2$ cho $n$ đều lẻ và lần lượt bằng $x^2- n [\dfrac{x^2}{n}]$, $(x+1)^2- n [\dfrac{(x+1)^2}{n}]$. Do đó $[\dfrac{x^2}{n}]$ và  $[\dfrac{(x+1)^2}{n}]$ phải khác tính chẵn lẻ. 
	\\
	Mặt khác, vì $0<(x+1)^2 - x^2 <2n$ nên $0 \leq [\dfrac{(x+1)^2}{n}] - [\dfrac{x^2}{n}] \leq 2$. Vậy $[\dfrac{(x+1)^2}{n}] = [\dfrac{x^2}{n}] +1.$ Từ đó, nếu $x,x+1,...,x+k$ là \textit{dễ thương}
	thì
	$$
	m=y- \Big[  \dfrac{y^2}{n} \Big] \text{ là hằng số với mọi } y=x,x+1,...,x+k.
	$$
	Vì đẳng thức $y- [  \dfrac{y^2}{n} ] =m$ tương đương với $y-m \leq \dfrac{y^2}{n}<y-m+1$. Hay,
	$n (\dfrac{n}{4}-m) \leq (y-\dfrac{n}{2})^2 < n(\dfrac{n}{4} -m +1)$. Suy ra số các số nguyên dương \textit{dễ thương} liên tiếp không vượt quá $[\sqrt{n(\dfrac{n}{4}-m+1)} - \sqrt{n(\dfrac{n}{4} - m)}] +1 \leq [\sqrt{n}] +1$ nếu $m \leq [\dfrac{n}{4}]$ và không vượt quá
	$2 [\sqrt{n \{\dfrac{n}{4} \}} + \dfrac{1}{2}] \leq [\sqrt{3n}]+1$ nếu $m = [\dfrac{n}{4}]+1.$\\
	\textit{\underline{Chú ý.}} Đẳng thức trên xảy ra khi và chỉ khi $n \equiv 3$ $\pmod 8 $, $3n$ không chính phương và $[\sqrt{3n}]$ là một số lẻ. 
}
\end{ex}
\begin{ex}%[HSG Serbia năm 2018, vòng 1]%[Nguyễn Sỹ, Dự án EX-Nat.MO-18]%[1D0G6]
Cho một tập gồm $n$ đường thẳng trên mặt phẳng sao cho không có 2 đường thẳng trong số chúng song song, hoặc 3 đường thẳng nào trong số chúng đồng quy. Một điểm gọi là \textit{giao điểm} nếu điểm này nằm trên hai trong số $n$ đường thẳng trên.
\begin{enumerate}
	\item Chứng minh rằng tồn tại một đường thẳng trong số $n$ đường thẳng trên sao cho mỗi nửa phẳng xác định bởi đường thẳng này chứa ít nhất 
	$
	\Big[  \dfrac{(n-1)(n-2)}{10} \Big]
	$
	giao điểm.
	\item Tìm tất cả các giá trị của $n$ để sao cho số giao điểm trên một trong hai nửa phẳng tạo bởi
	đường thẳng tìm được ở trên là gần với giá trị $\Big[  \dfrac{(n-1)(n-2)}{10} \Big]$  nhất. 
	
	\hspace{11cm} \textit{(Du\v{s}an Djuki\'c)} 
\end{enumerate} 	
\loigiai{
 Với mỗi đường thẳng trong $n$ đường thẳng đã cho, thì số giao điểm nằm ngoài đường thẳng này là $$
m = \dfrac{(n-1)(n-2)}{2}.
$$
Mỗi đường thẳng chia mặt phẳng thành 2 phần. Ta ký hiệu $p$ là đường thẳng mà sự khác nhau giữa số giao điểm của 2 nửa mặt phẳng tạo bởi $p$ là nhỏ nhất. Giả sử số giao điểm của một nửa phẳng tạo bởi $p$ là $k$ với $k \leq m=\dfrac{(n-1)(n-2)}{2} $. Ta định nghĩa một bộ ba $(d,A,B)$ là một bộ gồm đường thẳng $d$ và hai giao điểm $A,B$ sao cho $A$ và $B$ nằm về 2 phía của $d$.
\\
Theo bất đẳng thức Cauchy, ta thấy ngay với mỗi đường thẳng $d$ thì số bộ ba $(d,A,B)$ không vượt quá $k(m-k)$. Vậy tổng số bộ ba là $N$ không vượt quá $nk(m-k)$.   

Trong số các bộ ba, ta phân chia chúng làm 2 loại. Loại I là bộ ba $(d,A,B)$ với $A,B$ cùng nằm trên một đường thẳng. Loại II là các bộ ba còn lại. Giờ ta xét 2 trường hợp đặc biệt
\begin{itemize}
	\item Bộ 4 đường thẳng tùy ý trong $n$ đường thẳng trên, ta thấy mỗi bộ 4 đường thẳng cùng với các giao điểm chúng tạo ra thì tạo được 4 bộ ba loại I. Hơn nữa, mỗi bộ ba $(d,A,B)$ tương ứng với đúng 1 bộ 4 đường thẳng. Do đó, số bộ ba thuộc loại I tạo bởi $n$ đường thẳng là $4 C^4_n$.    
	\item Bộ 5 đường thẳng tùy ý trong $n$ đường thẳng trên, ta thấy  mỗi bộ 5 đường thẳng cùng với các giao điểm chúng tạo ra thì tạo được ít nhất 5 bộ ba loại II. Minh họa cho các khả năng của trường hợp này trong hình \ref{topo5}.\\
\begin{center}
\begin{tikzpicture}[scale=1, line join=round, line cap=round]

\clip (-7,-4) rectangle (10,3);
%%%%%%%%%%%%%%%
\tkzDefPoints{-6/1/A_1,-4/1/B_1,-5/-2/C_1,0/0/A_2,1/-2/B_2,-1/-2/C_2}

\tkzDrawSegments(A_1,B_1 B_1,C_1 C_1,A_1)
\tkzCentroid(A_1,B_1,C_1)\tkzGetPoint{G_1}
\coordinate (D_1) at ($(A_1)!0.8!(C_1)$);
\coordinate (E_1) at ($(B_1)!0.8!(C_1)$);
\tkzDrawLines[add=1.5 and 0.7](A_1,B_1) \tkzDrawLines[add=0.5 and 0.7](A_1,C_1) \tkzDrawLines[add=0.5 and 0.7](B_1,C_1) \tkzDrawLines[add=1.5 and 1.7](G_1,D_1) \tkzDrawLines[add=1.5 and 1.7](G_1,E_1)
\tkzDrawPoints[size=5,fill=black](A_1,B_1,C_1,G_1,D_1,E_1)
 \tkzDrawLines[add=1.3 and 1.2](A_2,B_2) \tkzDrawLines[add=1.3 and 1.2](A_2,C_2) 
\draw[-] (-2,-0.5)--(2,-0.5); \draw[-] (-2,0)--(2,-3);\draw[-] (2,0)--(-2,-3);
\draw[-] (4,2.5)--(7,-4);\draw[-] (7,2.5)--(4,-4);\draw[-] (4,-2)--(7,-2);\draw[-] (8,1)--(4,-3.5);\draw[-] (3,1)--(7,-3.5);

\end{tikzpicture}


\begin{tikzpicture}[scale=1, line join=round, line cap=round]

\clip (-6,-4) rectangle (10,3);
\draw[-] (-4,2.5)--(-1,-4);\draw[-] (-1,2.5)--(-4,-4);\draw[-] (-4,-2.5)--(-1,-2.5);\draw[-] (-4.5,-4)--(0,0);\draw[-] (-5,0)--(-0.5,-4);
\draw[-] (2,3)--(4,-3);\draw[-] (3,3)--(1,-3);\draw[-] (0,-2)--(6,-2);\draw[-] (0,-3)--(4,2);\draw[-] (5,-3)--(1,2);
\end{tikzpicture}
{Hình vẽ cho trường hợp 5 đường thẳng.}
\label{topo5}
\end{center}


	
Do đó, ta có $N \geq 4 C^4_n + 5 C^5_n = n C^4_n$. Vậy $ k(m-k) \geq C^4_n = \dfrac{m(m-1)}{6}$. Từ đây, ta suy ra
	$$
	k \geq k_0 = \dfrac{1}{2} \Big( m - \sqrt{\dfrac{m^2+2m}{3}} \Big).
	$$ 
	Dễ thấy $k_0 > \dfrac{m}{5}$ khi $n \geq 9$ và khi $n=8$, ta có $k_0 > [\dfrac{m}{5}] =4$. Vậy với $n \geq 8$ ta có $k > \Big[  \dfrac{(n-1)(n-2)}{10} \Big]$. Với $n \leq 7$, hiển nhiên ta có điều phải chứng minh khi $n \leq 4$ vì khi đó $[\dfrac{m}{5}]=0$.\\
	 Với các trường hợp $k=5,6,7$ ta có hình minh họa lần lượt như sau
	
\begin{center}
	\begin{tikzpicture}[scale=1, line join=round, line cap=round]
	\clip (-6,-4) rectangle (10,4);
	%%%%%%%%%%%%%%%
	\tkzDefPoints{-4/2/A,-2/1/B,-2.3/-2/C,-5/-2/D,-5.2/1/E}
	\tkzDrawLines[add=0.5 and 0.7](A,C) \tkzDrawLines[add=0.5 and 0.7](A,D)\tkzDrawLines[add=0.5 and 0.7](D,B)\tkzDrawLines[add=0.5 and 0.7](E,C)\tkzDrawLines[add=0.5 and 0.7](A,D)\tkzDrawLines[add=0.5 and 0.7](E,B)
	\draw[-] (3,4)--(1,-4);\draw[-] (2,4)--(6,-4);\draw[-] (0,-3.5)--(6,-2); \draw[-] (0,-3)--(7,-3);\draw[-] (7,-3.5)--(1,3);\draw[-] (0,-4)--(4,3);
	\end{tikzpicture}
	
	\begin{tikzpicture}[scale=1, line join=round, line cap=round]

	\clip (-6,-4) rectangle (6,4);
	\draw[-] (0.5,4)--(-2,-4);	\draw[-] (-0.5,4)--(2,-4);	\draw[-] (-4,-2)--(4,-2);	\draw[-] (-3,-4)--(3,4);	\draw[-] (3,3.4)--(-4,-2.5);	\draw[-] (-3,4)--(3,-4);	\draw[-] (4,-3)--(-3,3.7);
	
	\end{tikzpicture}
\end{center}  
\end{itemize}
Vậy trong mọi trường hợp ta đều có $k \geq \Big[  \dfrac{(n-1)(n-2)}{10} \Big].$

Ý (b) được suy ra ngay từ ý (a), ta có với $n=5,6,7$ thì $k$ bằng chính xác $\Big[  \dfrac{(n-1)(n-2)}{10} \Big]$. \\
\textit{\underline{Chú ý.}} Ta để ý là vì mọi bộ 5 đường thẳng tạp ra nhiều nhất 7 bộ ba loại II.\\
Do đó, có thể chứng minh rằng tồn tại một đường thẳng chia mặt phẳng thành 2 phần sao cho có một phần chứa ít hơn $(\dfrac{1}{2} - \dfrac{1}{2 \sqrt{15}})m$ giao điểm.
}
\end{ex}
\Closesolutionfile{ans}

