
\section{Nguyên lý Đirichlê cho dãy số vô hạn}
\begin{center}
\textbf{\color{violet}{Nguyễn Hữu Điển (Hà Nội)}}
\end{center}	
\noindent Trong phần này chúng ta xét nguyên lý Đirichlê dưới dạng:
{\em{Nếu có hữu hạn những ngăn kéo mà chúng ta đặt vô hạn những vật vào đó, thì ít nhất có một ngăn kéo chứa vô hạn những vật đã có.}}
Chúng ta dễ có cảm tưởng rằng nguyên lý này là hiển nhiên nên ít chú ý đến nó. Bằng phản chứng có thể chứng minh nguyên lý này là đúng. Trong số học, tập hợp có liên quan đến vô hạn phần tử là dãy số. Chúng ta biết rất nhiều dãy số đẹp nhưn dãy cấp số cộng, dãy cấp số nhân, dãy các số nguyên tố, hoặc dãy Fibonaxi,$\ldots$. Chương này chúng ta chỉ quan tâm đến áp dụng điều phát biểu trên để giải các bài toán liên quan đến dãy số. Những tập vô hạn trong các bài toán dưới đây ta xét như các dãy số.

\subsection{Một số ví dụ giải toán}
\begin{vd}
Xét dãy số $6, 6^2, 6^3, 6^4, 6^5,\ldots,6^n,\ldots$ và viết chữ số cuối cùng của các số này $0006$, $0036$, $02126$, $1296$, $7776$, $\ldots$ Chứng minh rằng bắt đầu từ một số $n_0$ nào đó dãy vừa lập là dãy tuần hoàn.
\loigiai{Vì tồn tại hữu hạn số lượng $\left(10^4\right)$ cách chọn khác nhau các số có $4$ chữ số, nên trong dãy đã cho chắc chắn tìm được hai cách chọn có cùng $4$ chữ số cuối. Có nghĩa là tìm được hai số $n_0$ và $n_0+t$ mà với chúng thì $6^{n_0}$ và $6^{n_0+t+1}$ có cùng $4$ chữ số cuối $\left(6^{n_0+t+1}-6^{n_0}=10^4\cdot 6k\right)$. Nói chung chữ số $6^n$ và $6^{n+t}$ với bất kì $n>n_0$ sẽ có cùng $4$ chữ số cuối $\left(6^{n+t}-6^n=10^4\cdot 6^{n-n_0}\right)$.
}
\end{vd}

\begin{vd}[IMO 1975]
Cho $a_1, a_2, \dots, a_n, \dots$ là dãy tăng ngặt các số tự nhiên. Chứng minh rằng vô hạn các phần tử $a_n$ của dãy trên có thể biểu diễn dưới dạng $a_n=xa_p+ya_q$, ở đây $x$ và $y$ là những số nguyên dương và $p\ne q$.
	\loigiai{Nếu $a_1=1$ kết luận của bài toán là hiển nhiên. Thật vậy, với mọi $n\ge 3$ số hạng $a_n$ có biểu diễn dạng $$a_n=a_{n-1}+\left(a_n+a_{n-1}\right)=1\cdot a_{n-1}+\left(a_n-a_{n-1}\right)\cdot a_1$$
có tính chất mong muốn. Chúng ra sẽ chứng minh tồn tại chỉ số $p$ lớn hơn $1$ sao cho vô hạn các số hạng của dãy đã cho có thể viết dưới dạng $xa_p+ya_1$ với các số nguyên dương thích hợp $x$ và $y$. Mỗi số hạng của dãy ta đặt tương ứng với số dư của nó khi chia chính nó cho $a_1$. Tập hợp tất cả các số hạng của dãy là vô hạn, còn tất cả các khả năng của số dư khi chia các số hạng cho $a_1$ là hữu hạn. Điều đó chứng tỏ rằng vô hạn phần tử
		\[a_{n_1}, a_{n_2},\ldots,a_{n_k},\ldots,\;\text{với}\;n_1<n_2<\cdots<n_k<\cdots\]
	cho cùng một số dư $r$ khi chia cho $a_1$. Không mất tính tổng quát ta giả thiết $n_1>1$, vì trong trường hợp ngược lại ta xét các số $a_{n_2}, a_{n_3},\ldots,a_{n_k},\ldots$ cũng là dãy vô hạn và cho cùng số dư $r$ khi chia cho $a_1$. Với mọi $k=1,2,\ldots$ tồn tại số nguyên dương $x_k$ sao cho $a_{n_k}=x_ka_1+r$. Khi đó $a_{n_k}-a_{n_1}=\left(x_ka_1+r\right)-\left(x_1a_1+r\right)=\left(x_k-x_1\right)a_1$ suy ra với mọi $k\ge 2$ ta có đẳng thức $a_{n_k}=a_{n_1}+\left(x_k-x_1\right)a_1=1\cdot a_{n_1}+\left(x_k-x_1\right)a_1$. Nghĩa là, những số $a_{n_2}, a_{n_3},\ldots,a_{n_k},\ldots$, có biểu diễn và các tính chất như bài toán đồi hỏi. Thật vậy, chỉ số $1$ và $n_1$ khác nhau vì theo cách chọn trên $n_1$ thực sự lớn hơn $1$. Chỉ còn phải khẳng định rằng số $x_k-x_1$ là số nguyên dương với $k\ge 2$, điều đó đúng vì từ $n_1<n_k$ suy ra $x_1<x_k$.
	}
\end{vd}

\begin{vd}
Cho số tự nhiên bất kỳ $k$. Chứng minh rằng tồn tại số nguyên tố $p$ và một dãy số tự nhiên tăng ngặt $a_1, a_2,\ldots,a_n,\ldots$ sao cho tất cả các phần tử của dãy $p+ka_1, p+ka_2,\ldots, p+ka_n,\ldots$ là những số nguyên tố.
	\loigiai{
	Ký hiệu $P$ là tập hợp tất cả các số nguyên tố. Với mọi $i=0,1,\ldots,k_1$ ký hiệu $P_i$ là tập hợp các số nguyên tố mà khi chia cho $k$ có số dư $i$. Dễ thấy rằng mọi số nguyên tố nằm trong một trong các tập hợp $P_0, P_1,P_2,\ldots,P_{k-1}$. Bởi vì số nguyên tố là vô hạn, vậy ít nhất phải có một trong số các tập hợp $P_0, P_1,P_2,\ldots,P_{k-1}$ chứa vô hạn số nguyên tố. Giả sử $P_i$ chứa vô hạn số và ký hiệu $p$ là phần tử nhỏ nhất của nó. Khi đó mọi số $x$ thuộc $P_i$ có dạng $x=p+ka$ với một số tự nhiên $a$. Lấy $x_1, x_2, x_3, \ldots$ là các phần tử của $P_i$ xếp theo thứ tự lớn dần. Với mọi số tự nhiên $n$ đặt $a_n=\dfrac{x_n-p}{k}$. Dễ thấy rằng số nguyên tố $p$ và dãy $a_1, a_2,\ldots,a_n,\ldots$ có tính chất mong muốn.
}
\end{vd}

\begin{vd}
Cho $f$ là đa thức $k$ đối với hệ số nguyên và $a_1,a_2,\ldots,a_n,\ldots$ là dãy những số nguyên thỏa mãn hệ thức $a_{n+1}=f\left(a_1,a_2,\ldots,a_{n-k+1}\right)$, với mọi số nguyên $n, k$ mà $n\ge k$. Chúng ra xét số dương bất kỳ $m$ và với mọi $n=1,2,\ldots$ kí hiệu $\overline{a_n}$ là số dư không âm nhỏ nhất của $a_n$ theo môđun $m$. Chứng minh rằng dãy $\overline{a_1},\overline{a_2},\overline{a_3},\ldots,\overline{a_n},\ldots$ là dãy tuần hoàn.
	\loigiai{
Chúng ra sẽ sử dụng khẳng định sau: Nếu $g$ là đa thức $k$ đối với hệ số nguyên và 
$$x_1, x_2,\ldots,x_k,y_1,y_2,\ldots,y_k$$
là các số nguyên sao cho 
$$x_1 \equiv y_1\,\, (\bmod m), x_2 \equiv y_2\,\, (\bmod m), \ldots, x_k \equiv y_k\,\, (\bmod m)$$
thì $g\left(x_1,x_2,\ldots,x_k\right)\equiv g\left(y_1,y_2,\ldots,y_k\right)$ $(\bmod m)$. Mọi số hạng của dãy bằng một trong các số $\overline{a}_1,\overline{a}_2,\overline{a_3},\ldots,\overline{a}_n,\ldots$,$0,1,\ldots,m-1$. Chúng ta xét các bộ sắp thứ tự gồm $k$ phần tử $\left(\overline{a}_1,\overline{a}_2,\ldots,\overline{a}_k\right)$, $\left(\overline{a}_2,\overline{a}_3,\ldots,\overline{a}_{k+1}\right)$, $\left(\overline{a}_n,\overline{a}_{n+1},\ldots,\overline{a}_{n+k-1}\right)$.
Có tất cả vô hạn bộ sắp như vậy, nhưng số lượng các bộ $k$ số $\left(\overline{\alpha}_1, \overline{\alpha}_2, \ldots, \overline{\alpha}_k\right)$, với $0\le \alpha_i\le m-1, i=1,2,\ldots,k$ là hữu hạn (bằng $m^k$ theo lý thuyết tổ hợp). Theo nguyên lý Đirichlê tồn tại hai chỉ số $i$ và $j$, $i<j$ sao cho
\[\overline{\alpha}_i=\overline{\alpha}_j, \overline{\alpha}_{i+1}=\overline{\alpha}_{j+1},\ldots,\overline{\alpha}_{i+k-1}=\overline{\alpha}_{j+k-1}\]
hoặc là
\[x_1\equiv y_1 (\bmod m), x_2\equiv y_2 (\bmod m),\ldots,x_k\equiv y_k (\bmod m).\]
Từ đây suy ra dãy $\overline{a}_1, \overline{a}_2, \overline{a}_3, \ldots, \overline{a}_n, \ldots$ là dãy tuần hoàn (chu kỳ của nó là ước số của $j-i$). Thật vậy, vì $f$ là đa thức với hệ số nguyên nên theo cách chứng minh trên chúng ta có
\[f\left(a_{i+k-1},a_{i+k-2},\ldots,a_i\right)\equiv f\left(a_{j+k-1},a_{j+k-2},\ldots,a_j\right) (\bmod m)\]
$\Rightarrow a_{i+k}\equiv a_{j+k}$ $(\bmod m)$ hoặc là $\overline{a}_{i+k}\equiv \overline{a}_{j+k}$. Biến đổi một chút dễ thấy rằng với mọi $n\ge i$ ta có đẳng thức sau $\overline{a}_{n+(i-j)}\equiv \overline{a}_{n}$.
	}
\end{vd}

\begin{vd}
Cho dãy $x_1, x_2,\ldots,x_n,\ldots$ được xác định theo công thức sau
\[x_1=1, x_2=0, x_3=2, x_{n+1}=2x_{n-1}+x_{n-2}, n\ge 3.\]
Chứng minh rằng với mọi số tự nhiên $m$ tồn tại hai phần tử liên tiếp của dãy mà chúng đều chia hết cho $m$.
	\loigiai{
Công thức truy hồi trên có thể viết lại
\[x_{n-2}=x_{n+1}-2x_{n-1} \tag{1}\]
Từ đó chỉ ra rằng dãy có khả năng phát triển về phía trái, tức là xác định $x_n$ với $n\le 0$. Ví dụ với $n=2, 1, 0$ chúng ra nhận được $x_0=0, x_{-1}=0, x_{-2}=1$. Như ví dụ trên chỉ ra rằng dãy $\overline{x_1}$, $\overline{x_2}, \ldots,$  $\overline{x_n}, \ldots$ gồm những số dư tương ứng $x_1, x_2,\ldots,x_n,\ldots$ theo môđun $m$, là dãy tuần hoàn. Từ công thức (1) suy ra mỗi phần tử của dãy $\{x_n\}$ và suy ra cả $\{\overline{x_n}\}$ xác định duy nhất từ $3$ phần tử trước nó. Khi đó nếu $(r_1, r_2,\ldots, r_k)$ là phần chu kì của dãy $\overline{x_1}$, $\overline{x_2}, \ldots,$  $\overline{x_n}, \ldots$ thì phần này sẽ chuyển động tuần hoàn về phía trái của dãy $\ldots,x_{-3},x_{-2},x_{-1},x_0,x_1,x_2,\ldots$ và sẽ có dạng
\[\ldots,r_1, r_2,\ldots, r_k, r_1, r_2,\ldots, r_k,r_1, r_2,\ldots, r_k,\ldots \tag{2}\]
Bây giờ chú ý rằng $x_{-1}=x_0=0$, suy ra $\overline{x}_{-1}=\overline{x}_0=0$. Từ (2) suy ra rằng dãy các số dư theo môđun $m$ chứa vô số cặp phần tử liên tiếp của dãy $x_1, x_2, \ldots, x_n, \ldots$ mà mỗi phần tử trong cặp đều chia hết cho $m$.
	}
\end{vd}

\begin{vd}
	Dãy số Fibonaxi được định nghĩa bằng các đẳng thức $F_1=F_2=1$, \\$F_{n+2}=F_{n+1}+F_n, n\geq 1$. Chứng minh rằng ít nhất một trong $100.000.000$ phần tử đầu tiên của dãy chia hết cho $10.000$.
	\loigiai{
		Tương tự như bài trên, chúng ta xét các số dư của các số trong dãy đã cho khi chia cho $10.000$. Ký hiệu số dư đứng ở vị trí thứ $k$ khi chia cho $10.000$ là $r_k$. Khi đó thì $r_1=1$, $r_2=1$, $r_3=2$, $r_4=3$,\ldots, $r_k=r_{k-1}+r_{k-2}$. Rõ ràng có $10.000$ số dư khác nhau do đó có $10.000^2=100.000.000$ (trăm triệu) cặp số dư khác nhau. Xét $100.000.001$ cặp số dư $(r_1, r_2)$, $(r_2, r_3)$,\ldots,$(r_{10.0000.001}, r_{10.0000.002})$. Theo nguyên lý Đirichlê trong số này có ít nhất $2$ cặp số trùng nhau, tức là tìm được hai số $n$ và $p$ với $n$, $p$ đều nhỏ hơn $100.000.002$, $n$ nhỏ hơn $p$ sao cho $r_n=r_p$, $r_{n+1}=r_{p+1}$. Nhưng nếu biết số dư của tổng hai số và số dư của một số thì số dư kia cũng tính được. Vì vậy ta có $r_{n-1}=r_{p-1}$, $r_{n-2}=r_{p-2}$,\ldots cho đến khi $r_2=1=r_{p-n+2}$, $r_1=1=r_{p-n+1}$. Áp dụng  công thức số dư hồi qui ở trên, ta có $r_{p-n}=0$ với $p-n\leq 100.000.001-1=100.000.000$. Nghĩa là số đứng ở vị trí $p-n$ sẽ thỏa mãn điều kiện bài ra, chia hết cho $10.000$.
	}
\end{vd}


\begin{vd}
	(Định lý Fermat) Nếu một số nguyên tố $p$ không chia hết số nguyên $a$, thì đẳng thức sau đúng $a^{p-1}\equiv 1 \pmod p$.
	\loigiai{
		Chúng ta chứng minh mệnh đề tổng quát hơn. Cho $m>1$ là số tự nhiên bất kỳ và $a$ là số nguyên tố cùng nhau với $m$. Chúng ta xét dãy những lũy thừa liên tiếp của $a$
		\[a^1, a^2, a^3,\ldots\tag{1}\]
		và ký hiệu
		\[r_1, r_2, r_3,\ldots\tag{2} \]
		là những số dư tương ứng của (1) khi chia cho $m$, nghĩa là
		\[a_k\equiv r_k \pmod m, 1\leq r_k\leq m-1\]
		Khi đó, số lượng các số trong (1) là vô hạn, còn những số ở (2) chỉ có thể nhận những giá trị trong $1$, $2$, $3$,\ldots, $m-1$ nên số lượng là hữu hạn. Suy rs theo nguyên lý Đirichlê, giữa những số dư $r_k$ sẽ có ít nhất hai số trùng nhau; nói cách khác tồn tại hai chỉ số $i$ và $j$ với $i\neq j$ sao cho $r_i=r_j$. Khi đó chúng ta có $a^i\equiv a^j \pmod m$. Theo giả thuyết $(a,m)=1$, với $i\neq j$ chúng ta nhận được $a^{i-j}\equiv 1 \pmod m$.
		
		Chúng ta có kết luận tồn tại sớ tự nhiên $l$ sao cho đẳng thức sau đây đúng
		\[a^l\equiv a  \pmod m\tag{3}\]
		- Số $l$ trong (3) không xác định duy nhất, thậm chí còn tồn tại vô số tự nhiên $l$ thỏa mãn (3).\\
		- Trong trường hợp $m=p$ là số nguyên tố, Fermat tìm ra $l$ có thể chọn là $p-1$.\\
		- Trường hợp $m$ bất kì thì Euler chứng minh rằng $l$ có thể chọn  là hàm chỉ số của $m$ (chúng ta không xem xét vấn đề này ở đây).
	}
\end{vd}
\begin{vd}
	Cho $x_1$, $x_2$, $x_3$,\ldots là dãy vô hạn các số nguyên và $k$ là một số tự nhiên bất kỳ. Chứng minh rằng tồn tại dãy số gồm những phân tử liên tiếp của dãy, mà tổng của chúng chia hết cho $k$.
	\loigiai{
		Chúng ta có thể giới hạn lại, giữa mọi bộ $k$ phần tử  liên tiếp của dãy có thể chọn được một số phần tử có tính chất mong muốn. Để đơn giản ta xem xét $k$ phần tử đầu tiên $x_1$, $x_2$, $x_3$,\ldots, $x_k$. Chúng ta xem xét tổng
		\[S_1=x_1, S_2=x_1+x_2,S_3=x_1+x_2+x_3,\ldots, S_k=x_1+x_2+\ldots +x_k.\]
		Nếu một tổng nào đó trong số trên chia hết cho $k$ thì bài toán được giải. Ngược lại, các số $\break S_1$, $S_2$,\ldots,$S_k$ (có số lượng $k$) khi chia cho $k$ được các số dư $1$, $2$, $3$,\ldots, $k-1$. Từ nguyên lý Đirichlê suy ra có một cặp chỉ số $i$ và $j$, $1\leq i< j\leq k$, mà các tổng $S_i$ và $S_j$ cho cùng một số dư khi chia cho $k$. Khi đó tổng các phần tử liên tiếp $x_{i+1}, x_{n+2},\ldots,x_j$ của dãy đã chia hết cho $k$, vì $x_{i+1}+x_{n+2}+\ldots+x_j=S_j-S_i$.
	}
\end{vd}
\begin{vd}
	Cho dãy vô hạn các chữ số. Chứng minh rằng với mọi số tự nhiên $n$, nguyên tố cùng nhau với $10$ thì trong dãy vô hạn trên tồn tại một nhóm chữ số liên tiếp, mà số tạo bởi các chữ số trong nhóm (viết theo thứ tự chỉ số lớn đứng trước) chia hết cho $n$.
	\loigiai{
		Cho dãy các chữ số $a_1$, $a_2$, $a_3$,\ldots, $a_n$,\ldots Chúng ta xét các số 
		$$A_1=\overline{a_1},  A_2=\overline{a_2a_1},\ldots, A_n=\overline{a_na_{n-1}\ldots a_1},\ldots, A_{n+1}=\overline{a_{n+1}\ldots a_1}.$$
		Vì số lượng những số này là $n+1$, còn số lượng khả năng của số dư khi chia chúng cho $n$ là $n$, nên theo nguyên lý Đirichlê tồn tại ít nhất hai số cho cùng một số dư ta ký hiệu chúng là $A_i$ và $A_j$, ($i<j$). Khi đó hiệu $A_j-A_i$ chia hết cho $n$. Hay nói cách khác 
		$$A_j-A_i=\overline{a_j\ldots a_1}-\overline{a_i\ldots a_1}=\overline{a_j\ldots a_{i+1}}\cdot 10^{i}$$
		vì $(n,10)=1$ nên $\overline{a_j\ldots a_{i+1}}$ chia hết cho $n$.
	}
\end{vd}
\begin{vd}
	Cho $k$ là số nguyên dương bất kỳ và 
	\begin{eqnarray*}
		&x_1, x_2,\ldots, x_n,\ldots\\&y_1, y_2,\ldots, y_n,\ldots
	\end{eqnarray*}
	là những chuỗi số nguyên bất kỳ. Chứng minh rằng tồn tại vô số cặp chỉ số $(i,j)$, với $i<j$ sao cho mỗi tổng
	$$x_{i+1}+x_{n+2}+\ldots+x_j, y_{i+1}+y_{n+2}+\ldots+y_j$$ đều chia hết cho $k$.
	\loigiai{Chỉ cần chứng minh rằng trong bộ số $k^2$ phần tử liên tiếp của $2$ dãy trên có thể chọn được tổng với tính chất đã chỉ ra. Vì vậy chúng ta chỉ quan tâm đến $k^2$ phần tử đầu tiên của chuỗi đã cho. Bằng cách tổng quát hóa cách giải bài toán 8, lấy tổng 
		$$S_1=x_1, S_2=x_1+x_2, S_3=x_1+x_2+x_3,\ldots, S_{k^2}=x_1+x_2+\ldots +x_{k^2}$$
		$$T_1=y_1, T_2=y_1+y_2, T_3=y_1+y_2+y_3,\ldots, T_{k^2}=y_1+y_2+\ldots+y_{k^2}.$$
		Với mỗi $m=1,2,3\ldots,k^2$ đặt tương ứng cặp $(S_m, T_m)$ với cặp $(RS_m, RT_m)$ của những số dư, khi chia $S_m$ và $T_m$ cho $k$. Vì $RS_m$ và $RT_m$ là một trong các số $0$, $1$, $2$,\ldots, $k-1$, nên tổ hợp tất cả các dạng khác nhau $(RS_m, RT_m)$ là không quá $k^2$. Nếu tồn tại một chỉ số $m$, sao cho $(RS_m, RT_m)$ trùng với $(0,0)$, thì mọi tổng $S_m=x_1+x_2+\ldots +x_m$ và $T_m=y_1+y_2+\ldots+y_m$ đều chia hết cho $k$. Vì nếu không như vậy, thì các cặp số $(RS_m, RT_m)$, $m=1,2,3,\ldots, k^2$ có nhiều nhất $k^2-1$ khả năng khác nhau. Nhưng số lượng nhũng cặp này là $k^2$ suy ra có ít nhất hai trong số chúng bằng nhau. Nói cách khác, tồn tại hai chỉ số $i$ và $j$, sao cho $1\leq i<j \leq k^2$ và $(RS_i, RT_i)=(RS_j, RT_j)$. Trong trường hợp này mỗi số $x_{i+1}+x_{n+2}+\ldots+x_j=S_j-S_i$; $y_{i+1}+y_{n+2}+\ldots +T_j-T_i$ đều chia hết cho $k$.
	}
\end{vd}

\subsection{Bài tập tự luyện}
\begin{bt}
	Có tồn tại lũy thừa của ba số mà các chữ số cuối cùng của nó là $0001$ không?
\end{bt}
\begin{bt}
	Cho $F$ là tập hữu hạn những số nguyên dương và $x_1$, $x_2$, \ldots, $x_n$,\ldots và  $y_1$, $y_2$, \ldots, $y_n$,\ldots là hai dãy số vô hạn những phần tử thuộc $F$. Chứng minh rằng tồn tại những chỉ số $i$ và $j$, $i<j$ sao cho tích của $x_{i+1}$, $x_{i+2}$,\ldots, $x_j$ và $y_{i+1}$, $y_{i+2}$,\ldots, $y_j$ là một số có lũy thừa bậc $k$.
\end{bt}
\begin{bt}
	Cho $u_1$, $u_2$,\ldots, $u_n$,\ldots là dãy những số nguyên xác định bằng công thức $u_1=39$, $u_2=45$, $u_{n+2}=u_{n+1}^2-u_{n}$ $(n\geq 1)$. Chứng minh rằng $1986$ chia hết cho vô số những phần tử trong dãy này.
\end{bt}
\begin{bt}
	Cho $k$ là một số tự nhiên. Dãy $x_1$, $x_2$,\ldots, $x_n$\ldots thỏa mãn các đẳng thức $x_0=0$, $x_1=1$ và $x_n=\dfrac{1}{k}(x_{n+1}-x_{n-1})$ với $n\geq 1$. Chứng minh rằng giữa những số $x_1$, $x_2$,\ldots, $x_{1986}$ tồn tại hai số mà tích của chúng chia hết cho tích $19\cdot 86$.
\end{bt}
\begin{bt}
	Cho $k$ là số nguyên dương và
	\begin{eqnarray*}
		&x_1^1, x_2^2,\ldots, x_n^1,\ldots\\
		&x_1^2, x_2^2,\ldots, x_n^2,\ldots\\
		&\ldots\ldots\ldots\ldots\\
		&x_1^s, x_2^s,\ldots, x_n^s,\ldots
	\end{eqnarray*}	
	là $s$ dãy số nguyên. Khi đó tồn tại vô hạn các cặp chỉ số $(i,j)$, với $i<j$ sao cho các tổng sau đây
	\begin{eqnarray*}
		&x_{i+1}^1+ x_{i+2}^2+\ldots+ x_j^1\\
		&x_{i+1}^2+ x_{i+2}^2,\ldots+ x_j^2\\
		&\ldots\ldots\ldots\ldots\\
		&x_{i+1}^s+ x_{i+2}^s+\ldots+ x_j^s
	\end{eqnarray*}
	đều chia hết cho $k$.
\end{bt}

\subsection{Bài tập dãy số nâng cao}
\begin{bt}
	Cho dãy Fibonaxi $u_1=u_2=1,u_n=u_{n-1}+u_{n-2}$. Chứng minh rằng với mọi số nguyên dương $m$, thì giữa những số hạng từ đầu dãy đến số hạng thứ $m^2-1$ tồn tại một số hạng chia hết cho $m$.
	\loigiai{Chúng ta kí hiệu $\overline{k}$ là phần dư của số $k$ cho $m$.
		Chúng ta xét các cặp phần dư của dãy Fibonaxi khi chia cho $m$
		\begin{align}\label{7.1}
		\left( \overline{u}_1,\overline{u}_2 \right),\left( \overline{u}_2,\overline{u}_3 \right),\left( \overline{u}_3,\overline{u}_4 \right),\ldots,\left( \overline{u}_n,\overline{u}_{n+1} \right),\ldots\
		\end{align}
		Nếu chúng ta quy định hai cặp $\left( \overline{a}_1,\overline{b}_1 \right)$ và $\left( \overline{a}_2,\overline{b}_2 \right)$ là bằng nhau khi $\overline{a}_1=\overline{b}_1$ và $\overline{a}_2=\overline{b}_2$, thì số tất cả khả năng của các cặp phần dư khi chia cho $m$ là $m^2$. Vì thế chúng ta lấy $m^2+1$ số hạng đầu tiên của dãy \eqref{7.1} thì trong chúng phải có hai cặp trùng nhau, (theo nguyên lí Dirichlet) và từ đó các cặp sau lặp lại.\\
		Giả sử cặp $\left( \overline{u}_k,\overline{u}_{k+1} \right)$ là cặp đầu tiên lặp lại trong \eqref{7.1}. Chúng ta sẽ chứng minh rằng cặp này bằng cặp $\left( 1,1 \right)$.\\
		Thật vậy, giả sử ngược lại, nghĩa là cặp đầu tiên lặp lại là $\left( \overline{u}_k,\overline{u}_{k+1} \right)$, với $k>1$. Khi đó chúng ta sẽ tìm được trong \eqref{7.1} một cặp $\left( \overline{u}_l,\overline{u}_{l+1} \right) \; \left( l>k \right)$, mà nó bằng  $\left( \overline{u}_k,\overline{u}_{k+1} \right)$. Như vậy $u_{l-1}=u_{l+1}-u_l$ và $u_{k-1}=u_{k+1}-u_k$, do $\overline{u}_{l+1}=\overline{u}_{k+1}$ và $\overline{u}_l=\overline{u}_k$, nên phần dư của $u_{l-1}$ và $u_{k-1}$ khi chia cho $m$ cũng bằng nhau, nghĩa là $\overline{u}_{l-1}=\overline{u}_{k-1}$. Từ đó suy ra $\left( \overline{u}_{k-1},\overline{u}_k \right)=\left( \overline{u}_{l-1},\overline{u}_l \right)$, vậy cặp $\left( \overline{u}_{k-1},\overline{u}_k \right)$ nằm trong dãy \eqref{7.1} trước cả $\left( \overline{u}_k,\overline{u}_{k+1} \right)$. Điều đó nói lên rằng $\left( \overline{u}_k,\overline{u}_{k+1} \right)$ không phải là cặp lặp lại đầu tiên, trái với giả thiết đặt ra. Nghĩa là $k>1$ không thể xảy ra, vậy $k=1$.\\
		Như vậy cặp $\left( 1,1 \right)$ là cặp đầu tiên lặp lại trong \eqref{7.1}. Giả sử nó lặp lại $t$ lần $\left( 1<t<m^2+1 \right)$, hoặc là $\left( \overline{u}_t,\overline{u}_{t+1} \right)=\left( 1,1 \right)$. Nghĩa là $u_t$ và $u_{t+1}$ khi chia cho $m$ cho phần dư cùng là $1$, vậy hiệu của chúng chia hết cho $m$. Nhưng $u_{t+1}-u_t=u_{t-1}$. Như vậy số hạng thứ $t-1$ của dãy Fibonaxi sẽ chia hết cho $m$.
	}
\end{bt}

\begin{bt}
	Giả sử $a$ và $x$ là các số tự nhiên thực sự lớn hơn $1$ và $\left( x,a-1 \right)=1$. Dãy số vô hạn $\left\{ u_n \right\}$ được xác định như sau
	\[u_n=ax^n-a+1,n=1,2,\ldots\]
	Chứng minh rằng trong dãy số nói trên chứa vô hạn số đôi một nguyên tố cùng nhau.
	
	\loigiai{Giả thiết phản chứng trong dãy số chỉ có hữu hạn số $u_{i_1},u_{i_2},\ldots,u_{i_k}$ đôi một nguyên tố cùng nhau.
		Đặt $q=u_{i_1}u_{i_2}\ldots u_{i_k}$.
		Xét $\left( q+1 \right)$ số sau $a,ax,ax^2,\ldots ,ax^q$. Theo nguyên lý Dirichlet tồn tại hai số nguyên $r,s$ sao cho $0\leq r<s\leq q$ và 
		\begin{align}\label{7.2}
		ax^r\equiv ax^s \pmod q \Rightarrow ax^r-ax^s \equiv 0 \pmod q \nonumber \\
		\text{hay} \; ax^r\left( 1-x^{s-r} \right)\equiv 0 \pmod q .
		\end{align}
		Theo giả thiết ta có $\left( x,a-1 \right)=1$, nên suy ra
		\begin{align}\label{7.3}
		\left( ax^r,u_{i_j} \right)=1, \forall j=1,2,\ldots ,k.
		\end{align}
		Từ \eqref{7.3} suy ra 
		\begin{align}\label{7.4}
		\left( ax^r,q \right)=1.
		\end{align}
		Từ \eqref{7.2} và \eqref{7.4} có $x^{s-r}\equiv 1 \pmod q \Rightarrow x^{s-r}=lq+1$ với $l\in \mathbb{N}$.\\
		Xét số $u_{i_{k+j}}=ax^{s-r} -a+1$. Vậy
		\begin{align}\label{7.5}
		u_{i_{k+j}}=a\left( lq+1 \right)-a+1=qal +1.
		\end{align}
		Từ \eqref{7.5} ta có 
		\begin{align}\label{7.6}
		\left( u_{i_{k+j}},u_{i_j} \right)=1,\; \forall j=1,2,\ldots,k.
		\end{align}
		Hệ thức \eqref{7.6} chứng tỏ rằng luôn có thể bổ sung thêm vào bộ số $q=u_{i_1}u_{i_2}\ldots u_{i_k}$ các số mới, mà bộ số này vẫn thỏa mãn điều kiện: bất kỳ hai số nào cũng nguyên tố cùng nhau. Điều này có nghĩa là trong dãy $\left\{ u_n \right\}$ đã cho có vô hạn số đôi một nguyên tố cùng nhau.
	}
\end{bt}

\begin{bt}
	Cho $\left\{ u_n \right\}$ là dãy các số tự nhiên tăng dần: $u_1<u_2<u_3<\ldots$ và thỏa mãn điều kiện $u_1=1,u_{n+1}\leq 2n$, với mọi $n$ là số tự nhiên. Chứng minh rằng với mọi số tự nhiên $n$ tồn tại các số hạng $u_p$ và $u_q$ của dãy sao cho $u_p-u_q=n$.
	\loigiai{Giả sử $n\in \mathbb{N}$ là số tự nhiên cho trước. Từ giả thiết suy ra mỗi số hạng $u_1,u_2,\ldots,u_{n+1}$ không vượt quá $2n$.
		Xét tập hợp $2n$ số tự nhiên sau $\left\{ 1,2,\ldots,2n \right\}$. Chúng ta chia tập hợp này ra làm $n$ cặp
		$$\left( 1,n+1 \right),\left( 2,n+2 \right),\left( n,2n \right).$$
Do tập hợp trên chứa không ít hơn $\left( n+1 \right)$ phần tử của dãy $\left\{ u_n \right\}$ đã cho (vì nói riêng $u_1,u_2,\ldots,u_{n+1}$ đã thuộc tập hợp ấy). Vậy theo nguyên lý Dirichlet, tồn tại hai số hạng khác nhau $u_p$ và $u_q$ của dãy thuộc vào một cặp (giả sử $u_p>u_q$). Nhưng hiệu số của mỗi cặp đều bằng $n$, nên chúng ta có $u_p-u_q=1$.
	}
\end{bt}

\begin{bt}
	Cho $\left\{ u_k \right\},k=1,2,\ldots,n$ là dãy số tự nhiên sao cho 
	\[1\leq u_1\leq u_2\leq \ldots \leq u_n \; \text{và}\; u_1+u_2+\ldots +u_n=2n. \]
	Chứng minh rằng nếu $n$ chẵn và $u_n\neq n+1$, thì từ dãy trên luôn chọn ra được một dãy con mà tổng các số hạng của dãy con đó bằng $n$.
	\loigiai{ Đặt $S_k=u_1+u_2+\ldots +u_k,\; k=1,2,\ldots ,n$.
		Xét $n+2$ số 
		$$\left\{ 0,u_1-u_n,S_1,S_2,\ldots ,S_n \right\}.$$
Theo nguyên lý Dirichlet thì ít nhất hai số khi chia cho $n$ có cùng phần dư. Vậy chỉ có $4$ khả năng sau đây:
		\begin{enumerate}
			\item[1)] $\left( u_1-u_n \right)$ chia hết cho $n$.\\
			Do $u_1+u_2+\ldots +u_n\geq nu_1 \Rightarrow 2n\geq nu_1\Rightarrow u_1\leq 2$
			\begin{itemize}
				\item Nếu $u_1=2$ thì từ $1\leq u_1\leq u_2\leq \ldots \leq u_n$ và $u_1+u_2+\ldots +u_n=2n$ suy ra $u_1=u_2=\ldots =u_n=2$. Do $n$ chẵn nên $n=2m$ vậy $u_1+u_2+\ldots +u_m=2m=n$.
				\item Nếu $u_1<2$ thì từ $u_1-u_n$ chia hết cho $n$, suy ra $u_n=1$ hoặc là $u_n=1+n$ (do $u_1$ nguyên nên $u_1=1$ và $1\leq u_n \leq 2n$ suy ra được kết luận trên). Nhưng $u_n\neq n+1$ suy ra $u_n=1$.\\
				Mặt khác $1\leq u_1\leq u_2\leq \ldots \leq u_n$ vậy thì $u_2=u_3=\ldots =u_{n-1}=1$. Suy ra $u_1+u_2+\ldots +u_n=n$, vô lý.\\
				Như vậy trong trường hợp này, ta chỉ ra tồn tại dãy con $u_1,u_2,\ldots ,u_m$ sao cho $\break u_1+u_2+\ldots +u_m=n$ với $m=\dfrac{n}{2}$.
			\end{itemize}
			\item[2)] $S_j-S_i\; \left( j>i \right)$ chia hết cho $n$.\\
			Ta có $S_j-S_i=u_{i+1}+u_{i+2}+\ldots +u_j$. Rõ ràng vế phải của đẳng thức trên có ít nhất một số hạng mà $u_k\geq 1, \forall k=1,2,\ldots ,n$, suy ra $S_j-S_i\geq 1$.\\
			Mặt khác cũng hiệu trên nếu không đủ các phần tử của dãy thì bao giờ ta cũng có $\break S_j-S_i<u_1+u_2+\ldots +u_n\leq 2n-1$ mà $S_j-S_i$ chia hết cho $n$. Điều này chỉ xảy ra khi $S_j-S_i=n$ hoặc là $u_{i+1}+u_{i+2}+\ldots +u_j=n$.
			\item[3)] $S_i$ chia hết cho $n$.\\
			Ta có $1\leq S_i\leq S_{n-1}=2n-u_n<2n$ mà $S_i$ chia hết cho $n$, suy ra $S_i=n$ hay là $u_1+u_2+\ldots +u_i=n$.
			\item[4)] $S_k$ và $u_1-u_n$ cho cùng phần dư khi chia cho  $n$, với $k$ nào đó, $1\leq k\leq n-1$. Suy ra $S_k\left( u_1-u_n \right)\vert n\Rightarrow \left( u_2+u_3+\ldots +u_k+u_n \right) \vert n$. Mà $u_2+u_3+\ldots +u_k+u_n\leq 2n-u_1<2n$. Suy ra $u_2+u_3+\ldots +u_k+u_n=n$.
		\end{enumerate}
		Tóm lại luôn luôn chọn được dãy con mà tổng của chúng bằng $n$.
	}
\end{bt}

\begin{bt}
	Cho dãy số nguyên $u_1,u_2,\ldots ,u_n$ với $n\geq 2$. Chứng minh rằng tồn tại dãy con $u_{k_1}$, $u_{k_2}$, $\ldots$, $u_{k_m}$ trong đo $1\leq k_1<k_2<\ldots <k_m\leq n$ sao cho $u_{k_1}^2+u_{k_2}^2+\ldots +u_{k_m}^2$ chia hết cho $n$.
\end{bt}


