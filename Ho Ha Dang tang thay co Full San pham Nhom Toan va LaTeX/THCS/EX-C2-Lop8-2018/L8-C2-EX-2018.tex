\documentclass[12pt,a4paper,oneside]{book}
\usepackage{amsmath,amssymb,yhmath,mathrsfs,xlop,
	polynom}
\usepackage{fancyhdr}
\usepackage{enumerate}
\usepackage{tkz-euclide}
\usepackage{tikz-3dplot}
\usepackage{tikz,tkz-tab,tkz-linknodes}
\usetikzlibrary{shapes.geometric,arrows,calc,intersections,angles,patterns,snakes}
\usetkzobj{all}
\usepackage{pgfplots}
\usepgfplotslibrary{fillbetween}
\pgfplotsset{compat=1.9}
\usepackage[top=2cm, bottom=2cm, left=2cm, right=1.5cm] {geometry}
\usepackage[hidelinks,unicode]{hyperref}
\usepackage{currfile}
\usepackage[loigiai]{ex_test}
%CÁC GÓI, LỆNH VIẾT TẮT CẦN THÊM
%CẤU TRÚC TỰ LUẬN
\usepackage{framed}
\usepackage[most]{tcolorbox}
\newtheorem{bt}{Bài}
\newtheorem{vd}{Ví dụ}
\def\beginbox{\begin{tcolorbox}[colframe=blue,colback=white]}
\def\endbox{\end{tcolorbox}}
\AtBeginEnvironment{vd}{
\beginbox
\renewcommand{\loigiai}[1]{
\renewcommand{\immini}[2]{
\setbox\imbox=\vbox{\hbox{##2}}
\widthimmini=\wd\imbox
\IMleftright{##1}{##2}
}
\endbox
\begin{onlysolution}
#1
\end{onlysolution}
\def\endbox{}
}
}
\AtEndEnvironment{vd}{
\endbox
}
\newtcolorbox[auto counter]{dang}[1]{
colframe=blue,colback=white,
title=Dạng~\thetcbcounter.\ \protect{#1}
\addcontentsline{toc}{subsection}{
Dạng~\thetcbcounter.\ #1
}
}
\theorembodyfont{\it}
\newtheorem{dl}{Định lí}
\theoremseparator{.}
\theorembodyfont{\rm}
\newtheorem{hq}{Hệ quả}
\newtheorem{tc}{Tính chất}
\newtheorem{dn}{Định nghĩa}
\theoremstyle{nonumberplain}
\newtheorem{kn}{Khái niệm}
\theoremseparator{}
\theorembodyfont{\it}
\usepackage{stackengine}
\usepackage{scalerel}
\newcommand\dangersign[1][2ex]{%
  \renewcommand\stacktype{L}%
  \scaleto{\stackon[1.3pt]{\color{red}$\triangle$}{\fontsize{4}{0}\selectfont !}}{#1}%
}
\newtheorem{note}{{\dangersign[3ex]}}
\newtheorem{nx}{Nhận xét.}
%Tiêu đề chương
\setcounter{secnumdepth}{4}
\setcounter{tocdepth}{2}
\usepackage{titlesec}
\makeatletter
\renewcommand \thesection{\@arabic\c@section.}
\renewcommand\thesubsection{\@Roman\c@subsection.}
\renewcommand\thesubsubsection{\@arabic\c@subsubsection.}
\makeatother
\titleformat{\section}{\selectfont\color{red!50!blue}\centering\scshape\Large\bfseries}{\S\thesection}{0em}{
\setcounter{vd}{0}
\setcounter{ex}{0}
\setcounter{bt}{0}
\setcounter{dl}{0}
\setcounter{dn}{0}
\setcounter{hq}{0}
\setcounter{tc}{0}
\setcounter{\tcbcounter}{0}
}
%HẾT CẤU TRÚC TỰ LUẬN
\newcommand{\hoac}[1]{\left[\begin{aligned}#1\end{aligned}\right.}
\newcommand{\heva}[1]{\left\{\begin{aligned}#1\end{aligned}\right.}
\renewcommand{\labelenumi}{\alph{enumi})}
\newcommand{\dropsign}[1]{\smash{\llap{\raisebox{-.5\normalbaselineskip}{$#1$\hspace{2\arraycolsep}}}}}%
\begin{document}
\tableofcontents
%\part{ĐẠI SỐ}
%\input{8D/8D1-TL-1-2}
%\input{8D/8D1-TL-3-4}
%\input{8D/8D2-TL-5}
%\input{8D/8D2-TL-6}
%\input{8D/8D2-TL-CD-1}
%\input{8D/8D2-TL-CD-2}
\input{8D/8D2-TL-CD-3}			
%\input{8D/8D3-TL-7-8}
%\input{8D/8D3-TL-9-10}
%\input{8D/8D4-TL-11-12}
%\input{8D/8D4-TL-13-14-15}
%\input{8D/8D4-TL-CD1}
%\input{8D/8D4-TL-CD2}
%\part{HÌNH HỌC}
%\setcounter{chapter}{0}% Reset lại số đếm câu hỏi
%\input{8H/8H1-TL-1-2}
%\input{8H/8H1-TL-3}
%\input{8H/8H1-TL-4-5}
%\input{8H/8H1-TL-6-7}
%\input{8H/8H1-TL-8-9-10}
%\input{8H/8H2-TL-11-12}
%\input{8H/8H2-TL-CD-1}
%\input{8H/8H2-TL-CD-2}
%\input{8H/8H3-TL-13}
%\input{8H/8H3-TL-14-15}
%\input{8H/8H3-TL-16-17}
%\input{8H/8H3-TL-18-19}
%\input{8H/8H4-TL-20}
%\input{8H/8H4-TL-21-22}
%\input{8H/8H4-TL-CD1}
%\input{8H/8H4-TL-CD2}
\end{document}