\begin{ex}%[HSG Áo năm 2018, vòng chung kết, phần 2, ngày 2]%[Tran Thi Thu Hang, Dự án EX-Nat.MO-18]%[0D0G4]
	Trên đường tròn cho $2018$ điểm. Mỗi điểm được gán một số nguyên sao cho mỗi số lớn hơn tổng của hai số liền trước nó, theo chiều kim đồng hồ. Xác định giá trị lớn nhất của số các số dương trong 2018 số đó.
	\loigiai{ Ta đặt tên cho các điểm bằng các số nguyên ký hiệu $a_0,a_1,...,a_{2017}$ theo chiều kim đồng hồ với $a_{k+2018}=a_k$ với mọi số nguyên $k$.\\
		\begin{bode}
			Trong hệ thống $2018$ điểm trên, không có hai số đứng cạnh nhau mà cả hai đều không âm.
		\end{bode}
		\begin{cm}
			Giả sử rằng có hai số đứng cạnh nhau là $a_{k-1}$ và $a_k$ đều không âm. Chúng ta có $a_{k+1}>a_k+a_{k-1} \ge a_k$ (bất đẳng thức đầu là do giả thiết, bất đẳng thức sau là do $a_{k-1} \ge 0$. Bây giờ ta có $a_k$ và $a_{k+1}$ đều không âm, tiếp tục quá trình trên ta có $a_{k+2}>a_{k+1}$, $a_{k+3}>a_{k+2}$, và cuối cùng ta có $a_{k+2018}>a_{k+2017}> \cdots >a_{k+1}>a_k=a_k+2018$ ta gặp mâu thuẫn.
		\end{cm}
		Vì vậy mỗi chữ số đứng vị trí chẵn đều có thể không âm. Tiếp đây ta sẽ chỉ ra rằng không thể xảy ra trường hợp tất cả các chữ số đứng vị trí chẵn không âm.
		\begin{bode}
			Trong hệ thống $2018$ điểm trên, không xảy ra trường hợp tất cả các chữ số đứng vị trí chẵn đều không âm.
		\end{bode}
		\begin{cm}
			Giả sử rằng mọi chữ số đứng vị trí chẵn đều không âm, nghĩa là $a_{2k} \ge 0$, suy ra $a_{2k+1}<0$ với mọi số nguyên $k$. Khi đó ta có $a_3>a_2+a_1 \ge 1$ (bất đẳng thức đầu do giả thiết, bất đẳng thức sau do $a_2 \ge 0$). Tiếp tục như vậy ta có $a_5>a_3$, $a_7>a_5$ và cuối cùng ta có $a_1=a_{2019}>a_{2017}>a_{2015}> \cdots >a_3>a_1$ ta gặp mâu thuẫn.
		\end{cm}
		Tóm lại: Trong hệ thống $2018$ số nói trên không thể có quá $1009$ số không âm bởi vì theo nguyên tắc Dirichle, chúng ta phải có hai số liền nhau là không âm, điều này mâu thuẫn với bổ đề thứ nhất. Nếu có đúng $1009$ số không âm  thì mâu thuẫn với bổ đề thứ nhất hoặc bổ đề thứ hai.\\
		Với $1008$ số nguyên dương và $1010$ số âm thì ta tìm được một ví dụ về hệ thống điểm là
		$$-4035,1,-4033,1,-4031,1,-4029, \cdots ,1,-2021,1,-22019,-2017$$	
		mà chúng ta có thể dễ dàng kiểm tra tính chính xác.
	}
	
\end{ex}

\begin{ex}%[Olympic Vương Quốc Anh năm 2018, vòng 1]%[Nguyễn Chính Tâm, Dự án EX-Nat.MO-18]%[0D0G6]
Trong khoảng thời gian $100$ ngày, mỗi người trong số sáu người bạn đi bơi đúng $75$ ngày. Có $n$ ngày mà ít nhất năm người bạn đi bơi. Tìm giá trị lớn nhất và nhỏ nhất có thể của $n$?
	\loigiai{ Ta có 
	}
\end{ex}

\begin{ex}%[HSG Thuỵ Sĩ năm 2018]%[Nguyễn Thành Khang, Dự án EX-Nat.MO-18]%[0D0G4]
	Vương quốc SMO có $1111$ cư dân. Mỗi cầu thủ trong đội bóng của Vương quốc gồm $11$ người gửi tặng chữ ký của mình cho cư dân trong Vương quốc sao cho không có người nào nhận được chữ ký của một cầu thủ nào đó $2$ lần (mỗi cư dân có thể nhận được hoặc không nhận được chữ ký từ một cầu thủ nào đó).
	\begin{enumerate}
		\item Có bao nhiêu khả năng có thể có của bộ chữ ký mà mỗi cư dân nhận được?
		\item Người ta nhận thấy rằng không có hai cư dân nào có bộ chữ ký giống hệt nhau. Chứng minh rằng tồn tại $2$ cư dân mà bộ chữ ký của họ sẽ có chữ ký của mỗi cầu thủ đúng một lần.
	\end{enumerate}
	\loigiai{
		\begin{enumerate}
			\item Xét một cư dân bất kỳ. Với mỗi chữ ký của một cầu thủ nào đó thì hoặc cư dân đó nhận được hoặc cư dân đó không nhận được chữ ký của cầu thủ đó, nên có tổng cộng $2^{11}=2048$ bộ chữ ký mà mỗi cư dân có thể nhận được.
			\item Mỗi cư dân nhận được một trong $2048$ bộ chữ ký có thể có và không có hai cư dân nào có bộ chữ ký giống hệt nhau.\\
			Nhận thấy rằng có thể chia $2048$ bộ chữ ký thành $1024$ nhóm, mỗi nhóm gồm $2$ bộ chữ ký sao cho mỗi chữ ký của mỗi cầu thủ xuất hiện đúng $1$ lần trong nhóm đó.\\
			Vì có $1111$ cư dân mà chỉ có $1024$ nhóm nên sẽ tồn tại $2$ cư dân nhận được $2$ bộ chữ ký trong cùng một nhóm và bộ chữ ký của họ sẽ có chữ ký của mỗi cầu thủ đúng $1$ lần.
		\end{enumerate}
	}
\end{ex}

\begin{ex}%[HSG Thuỵ Sĩ năm 2018]%[Nguyễn Thành Khang, Dự án EX-Nat.MO-18]%[0D0G4]
	Một toà nhà cao tầng có $7$ cái thang máy, mỗi thang máy có thể đi đến được $6$ tầng. Biết rằng hai tầng bất kỳ sẽ có ít nhất một thang máy đi trực tiếp được từ tầng này đến tầng kia. Chứng minh rằng toà nhà đó có nhiều nhất là $14$ tầng và tồn tại hệ thống thang máy như vậy cho một toà nhà có đúng $14$ tầng.
	\loigiai{
		Ta có thể xây dựng hệ thống thang máy cho toà nhà $14$ tầng như bảng bên.
		\begin{center}
			\begin{tabular}{| c | c | c | c | c | c | c | c | c | c | c | c | c | c | c |} 
				\hline
				 & 1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9 & 10 & 11 & 12 & 13 & 14 \\
				\hline
				1 & x & x & x & x & x & x &  &  &  &  &  &  &  &  \\ 
				\hline
				2 & x & x &  &  &  &  & x & x & x & x &  &  &  &  \\
				\hline
				3 & x & x &  &  &  &  &  &  &  &  & x & x & x & x \\
				\hline
				4 &  &  & x & x &  &  & x & x &  &  & x & x &  &  \\
				\hline
				5 &  &  & x & x &  &  &  &  & x & x &  &  & x & x \\
				\hline
				6 &  &  &  &  & x & x & x & x &  &  &  &  & x & x \\
				\hline
				7 &  &  &  &  & x & x &  &  & x & x & x & x &  &  \\
				\hline
			\end{tabular}
		\end{center}
		Trong đó ``x'' là kí hiệu thang máy tương ứng có thể dừng lại ở tầng tương ứng.\\
		Dễ thấy hai tầng bất kỳ có ít nhất một thang máy đi trực tiếp được từ tầng này đến tầng kia.\\
		Ta sẽ chứng minh số tằng không thể vượt quá $14$.\\
		\textbf{Cách 1.}\\
		Ta gọi hai tầng có thể đi trực tiếp được từ tầng này đến tầng kia bằng một thang máy nào đó là ``\textit{liên thông với nhau}''.\\
		Vì mỗi thang máy có thể đến được $6$ tầng nên với mỗi thang máy sẽ có $\mathrm{C}_6^2=15$ cặp tầng \textit{liên thông}. Mà có $7$ thang máy nên có nhiều nhất $7\mathrm{C}_6^2=7\cdot 15=105$ cặp tầng \textit{liên thông}.\\
		Mặt khác, với toà nhà $n$ tầng thì có đúng $\mathrm{C}_n^2$ cặp tầng nên $\mathrm{C}_n^2\le 105$ hay $n\le 15$.\\
		Giả sử tồn tại một hệ thống thang máy cho toà nhà $15$ tầng thoả mãn bài ra. Khi đó dấu bằng trong đánh giá trên xảy ra hay với hai tầng bất kỳ sẽ có đúng một thang máy đi trực tiếp từ tầng này đến tầng kia.\\
		Xét tầng $1$ của toà nhà. Với mỗi thang máy dừng ở tầng $1$ thì chỉ có thể đến được $5$ tầng khác, nên phải có ít nhất $3$ thang máy dừng ở tầng $1$. Các thang máy này sẽ có ít nhất là $15$ điểm dừng, theo nguyên lý Đi-rích-lê thì trong $14$ tầng còn lại sẽ có ít nhất $1$ tầng có ít nhất $2$ thang máy cũng dừng tại tầng đó. Khi đó tầng này và tầng $1$ có thể đi lại bằng $2$ thang máy, vô lý.\\
		Vậy số tầng của toà nhà không vượt quá $14$.\\
		\textbf{Cách 2.}\\
		Ta thấy nếu toà nhà có $n$ tầng (với $n\ge 14$) thì mỗi tầng sẽ có ít nhất $3$ thang máy dừng tại tầng đó nên tổng số điểm dừng ít nhất là $3n$.\\
		Mà với $7$ thang máy thì ta có đúng $42$ điểm dừng nên suy ra $3n\le 42$ hay $n\le 14$.
	}
\end{ex}


\begin{ex}%[HSG Austrian, vòng loại, năm 2018]%[Nguyễn Anh Tuấn, Dự án EX-Nat.MO-18]%[1D0G6]
Cho $ n $ là số tự nhiên thỏa mãn $ n \geq 3 $.\\
Gọi $a_n$ là số tất cả các tập con 3 phần tử của tập hợp $ \{1;2;3;\ldots;n\}$ sao cho trong 3 phần tử đó, có một phẩn tử là trung bình cộng của hai phần tử còn lại. Tìm $a_n$.
\loigiai{Giả sử $ \{a;b;c\} $ là tập con của tập hợp $ M=\{1;2;\ldots;n\} $ sao cho $ a<b<c $. Khi đó $ b=\dfrac{a+c}{2} $ là một phần tử của tập $ M $ nếu và chỉ nếu $ a $ và $ c $ cùng chẵn hoặc cùng lẻ. Do đó, số các tập con thỏa mãn chính là số các cách chọn ra hai số thuộc $M$ mà cùng tính chẵn - lẻ.
	\begin{enumerate}
		\item Nếu $ n $ là số chẵn, tức là $ n=2k, k \in \mathbb{N}^* $. Khi đó, $M$ có $k$ số chẵn và $k$ số lẻ. Nên số các tập con của $ M $ thỏa mãn là $ 2\dfrac{k(k-1)}{2} $, hay $ a_{2k}=k(k-1) $.
		\item Nếu $ n=2k+1 $ là số lẻ, $M$ có $k$ số chẵn và $k+1$ số lẻ. Tương tự, ta có $a_{2k+1}= \dfrac{k(k-1)}{2} +\dfrac{k(k+1)}{2} =k^2$.
	\end{enumerate}
Từ các kết quả trên, ta có $ a_n=\left\lfloor {\frac{n}{2}} \right\rfloor \cdot \left\lfloor {\frac{{n - 1}}{2}} \right\rfloor $.
}
\end{ex}

\begin{ex}%[HSG Belarus năm 2018, bảng A, vòng 1]%[Dương BùiĐức, Dự án EX-Nat.MO-18]%[1D0G6]
	Một đa giác ô li $ A $ được vẽ trên mặt phẳng lưới ô li. Ta gọi một ô (đơn vị) là điểm trong $ A $ nếu $ 8 $ ô liền kề với nó cũng thuộc $ A $, những ô còn lại của $A$ mà không phải là điểm trong của $A$ được gọi là điểm biên của $ A $. Biết rằng tập tất cả các điểm biên của $ A $ thỏa mãn đồng thời hai điều kiện sau
	\begin{enumerate}[1)]
		\item mỗi điểm biên có đúng hai cạnh kề với hai điểm biên khác;
		\item tập tất cả các điểm biên có thể phân chia thành các hình thang cân có diện tích bằng $ 2 $ với các đỉnh nằm ở nút của lưới (và góc ở đáy của hình thang cân bằng $ 45^{\circ} $).
	\end{enumerate}
Chứng minh rằng diện tích của đa thức ô li $ A $ là đồng dư $ 1 $ với mô-đun $ 4 $.
\loigiai{
Rõ ràng tập các điểm biên của đa thức $ A $ có thể được chia thành các hình thang, do đó ta có thể đi từ một điểm bất kỳ đến các điểm khác thông qua các cạnh của các hình thang. Ta gọi một đa thức thỏa mãn điều kiện này là \textit{đa thức tốt}. Ta sẽ đi chứng minh bằng quy nạp bài toán ``nếu diện tích của một đa thức tốt là $ S $ thỏa mãn $ S\leq 4k+1 $ (với $ k\geq 2 $) thì $ S\equiv 1\pmod{4} $''.
\begin{itemize}
	\item Với $ k=2 $: dễ thấy rằng đa thức ô li $ A $ có ít nhất $ 4 $ hình thang, và nếu có đúng $ 4 $ hình thang thì đa thức ô li $ A $ là một hình vuông $ 3\times 3 $.\\
	Nếu có ít nhất $ 5 $ hình thang thì diện tích $ S\geq 2\cdot 5>2\cdot 4+1 $.
	\item Ta giả sử bài toán đúng với $ k=n-1\geq 2 $. Ta phải chứng minh bài toán đúng với $ k=n $, tức là mọi đa thức tốt có diện tích $ S\in [4(n-1)+2,4n+1] $.\\
	Xét một cạnh $ AB $ của một đa thức tốt mà hai cạnh kề của nó đều vuông góc với $ AB $, cạnh $ AB $ thỏa mãn điều này luôn tồn tại (giả sử là cạnh dưới cùng của đa thức).
	\begin{itemize}
		\item Giả sử $ AB=3 $ và đa thức ô li $ A $ không phải là hình vuông $ 3\times 3 $.\\
		\immini{Khi đó hai hình thang cân được sắp xếp lại một cách duy nhất và có thể tạo ra được hình chữ nhật $ 3\times 4 $ từ đa thức ô li và ta nhận được một đa thức tốt. Rõ ràng với một nhát cắt, phần dư trong phép chia của $ S $ cho $ 4 $ sẽ không đổi.
}{
}
		\item Giả sử đa thức tốt không có cạnh bằng $ 3 $ (nếu đa thức tốt có cạnh bằng $ 3 $ thì các cạnh của nó sẽ vuông góc với nhau), khi đó mỗi cạnh bên sẽ có ít nhất hai hình thang cân (nói cách khác cạnh của hình thang là $ 3 $).\\
		\immini{
	Giả sử $ AB=\ell $. Nếu hình chữ nhật $ CABD $ (như hình vẽ bên) có kích cỡ $ \ell\times 4 $ không có điểm biên chấp nhận được, khi đó ta có các điểm chung với đa thức đường $ CABD $. Khi cắt bỏ đa thức này ta sẽ nhận được đa thức tốt bằng cách di chuyển các hình thang cân tới cạnh $ AB $ bởi $ 4 $ ô (giống như trường hợp $ AB=3 $).\\
	Giả sử hình chữ nhật $ CABD $ chứa các điểm biên khác. Tô màu các điểm của mặt phẳng bằng hai màu khác nhau (như hình vẽ bên). Khi đó các điểm biên có dạng $ 1 $ sẽ được tô màu $ 1 $ và các ô có dạng $ 2 $ sẽ có màu $ 2 $ (vì từ mỗi ô của dạng $ 1 $ ta luôn xác định được ô thuộc dạng $ 2 $).\\
	Xét tất cả các điểm trong hình chữ nhật $ CABD $ và chọn một điểm bên dưới không có điểm chung với đa thức đường. Khi đó một vài điểm kề nhau bên trái hoặc bên phải sẽ là điểm biên vì ngược lại đường biên sẽ không phân chia thành các hình thang được (nếu điểm này được tô màu thì nó sẽ là một phần của hình thang theo chiều ngang, ngược lại điểm này sẽ không nằm thấp hơn và nếu không hình thang chứa điểm này có thể không có chiều dọc với lí do tương tự).\\
	Có ít nhất một trong hai điểm biên kề nhau bị phân chia bởi đường chéo của hình thang. Không mất tính tổng quát, ta giả sử rằng điểm đó có dạng $ 1 $ (được đánh dấu bằng gạch chéo trên hình vẽ). Khi đó, điểm đó có màu $ 1 $ và được xác định bởi hai điểm nằm bên trên có màu $ 2 $ kề với $ AB $, nói cách khác nó không thể xác định bên trong $ CABD $ vì mọi điểm trong $ CABD $ đều có màu $ 1 $. Rõ ràng khi đó điểm này nằm bên trong hình thang, được xác định bên phải của nó.\\
	Bây giờ ta sẽ tạo các nhát cắt (như hình vẽ), bởi vậy sẽ cắt đa thức ra làm $ 2 $
	}{

}
	\end{itemize}
\end{itemize}
}
\end{ex}


\begin{ex}%[HSG Belarus năm 2018, bảng A, vòng 2]%[Huỳnh Xuân Tín, Dự án EX-Nat.MO-18]%[1D0G6]
Cho biểu thức $M(n,m)=\left|n\sqrt{n^2+a}-bm \right| $, với $m,n$ là hai số nguyên dương tùy ý; $a, b$ là các hằng số, với $a$ là số nguyên dương lẻ và $b\in \mathbb{Q}$ là phân số tối giản có mẫu số là số lẻ. Chứng minh rằng
\begin{enumerate}[1.]
	\item Có không quá hữu hạn các cặp số $(n,m)$ mà $M(n,m)=0$.
	\item Tồn tại một hằng số $C>0$ thỏa mãn bất đẳng thức $M(n,m)\ge C$ với mọi $(n,m)$ mà $M(n,m)\not=0$.
\end{enumerate}
	\loigiai{
		\begin{enumerate}[1.]
			\item Phần 1 đúng với bất kỳ $b\in \mathbb{Q}$ và $a\in \mathbb{N}$. Thật vây, $n\sqrt{n^2+a}=bm$ thì số $\sqrt{n^2+a}$ là số hữu tỷ hoặc là số nguyên. Do đó $n^2+a=k^2$, với $k$ là một số nguyên dương.  Nhưng khoảng cách giữa hai số chính phương thì tăng đến vô cùng, mà ở đây số $a\in \mathbb{N}$ cố định nên sẽ chỉ có tồn tại hữu hạn cặp $(n,k)$ thỏa $n^2-k^2=a$.\\
			\item Đặt $b=\dfrac{p}{q}$ với $p\in \mathbb{Z}, q\in \mathbb{N^*}$ và $q$ là số lẻ. 			Ký hiệu $I_n$ là tập tất cả các số nguyên dương trong đoạn $\left[qn^2;qn^2+\dfrac{aq}{2} \right] $ . Vì $a, q$ là số nguyên lẻ nên $I_n=\left\lbrace qn^2+i: i=\overline{0,(aq-1)/2}\right\rbrace $. Xét tập hợp $P=\left\lbrace (n,m): n\in \mathbb{N}, pm\in I_n \right\rbrace $. Thay $b=\dfrac{p}{q}$ vào $M(n,m)$, ta được $M(n,m)=q^{-1}\left| qn\sqrt{n^2+a}-pm \right| $.\\
		Từ bất đẳng thức \[n^2<n\sqrt{n^2+a}<n^2+\dfrac{a}{2}\tag{*}\]	ta thu được $qn^2<qn\sqrt{n^2+a}<qn^2+\dfrac{aq}{2}$. Do đó, nếu $mp\notin I_n$ thì $M(n,m)\ge q^{-1}\left( 1-\left\lbrace aq/2 \right\rbrace \right) =\dfrac{1}{2q}$ (ở đây $\left\lbrace. \right\rbrace $ là ký hiệu phần lẻ), và vì $aq$ là số lẻ nên $\left\lbrace aq/2 \right\rbrace=\dfrac{1}{2}$. Do đó
		\[\inf\left\lbrace M(n,m): (n,m)\notin P \right\rbrace\ge \dfrac{1}{2q}, \tag{**} \]
		và $P$ chứa mọi cặp số $(m, n)$ mà $M(m, n)=0.$\\
		Tiếp theo, ta tìm cận dưới của $M(n,m)$ với $(n,m)\in P$ mà $n$ đủ lớn. Nếu $(n,m)\in P$, thì $pm=qn^2+i$, với $i\in \left\lbrace 0,1,\cdots, \dfrac{aq-1}{2}\right\rbrace $. Với $m,n$ đó, ta được
		\[M(n,m)=q^{-1}\left| qn\sqrt{n^2+a}-qn^2-i \right|=\dfrac{\left(q^2a-2qi \right)n^2-i^2 }{q\left( qn\sqrt{n^2+a}+qn^2+i\right) }.\]
		Khi đó $M(n,m)$ có tử số nhỏ nhất và mẫu số lớn nhất nếu $i$ lớn nhấti, tức $i=\dfrac{aq-1}{2}$. Thay giá trị này của $i$ vào (*), ta thu được
		\[M(n,m)\ge \dfrac{n^2-\frac{(aq-1)^2}{4}}{2q^2n^2+aq^2-\frac{q}{2}}\rightarrow \dfrac{1}{2q^2}\,\, \mbox{khi}\,\, n\rightarrow \infty,\]
	vì vậy tồn tại một số $n_0$ sao cho $M(n,m)>\dfrac{1}{4q^2}$, với mọi $(n,m)\in P$, $n\ge n_0$.  Trong trường hợp đặc biệt, bởi vì nếu (**) xảy rađẳng thức  thì điều này có nghĩa là không điểm của $M(n,m)$ nằm trong tập hữu hạn $P_0=\left\lbrace (n,m)\in P: n\ge n_0\right\rbrace $. Khi đó $M(n,m)$ có hữu hạn số không điểm. Chọn giá trị nhỏ nhất khác $0$ của $M(n,m)$ trên tập $P_0$ (ta gọi là $C_0$).  Sau đó, chúng ta có thể lấy $C=\min\left\lbrace C_0, \dfrac{1}{4q^2} \right\rbrace $ như một hằng số bắt buộc. Như vậy phần 2 được chứng minh.
			
		\end{enumerate}
	}
\end{ex}

\begin{ex}%[HSG Belarus năm 2018, bảng A, vòng 2]%[Huỳnh Xuân Tín, Dự án EX-Nat.MO-18]%[1D0G6]
	Xét một $n-$giác đều cùng với tâm của nó. Hai người chơi trò chơi như sau: họ lần lượt chọn một đỉnh của đa giác rồi nối với một trong hai đỉnh kề hoặc nối với tâm của hình đa giác đó bởi một đoạn thẳng. Người thắng cuộc là người chơi mà sau lượt chơi của anh ta thì ở bất kỳ đỉnh nào của đa giác đều có thể di chuyển đến mọi đỉnh còn lại bằng các đoạn thẳng đã nối ở trên. Với mỗi $n\ge3$, hãy xác định xem ai là người có chiến lược thắng cuộc.
	\loigiai{Với $n$ lẻ thì người chơi đầu tiên thắng, và với $n$ chẵn thì người chơi thứ hai thắng.\\
		\textbf{Với $n$ chẵn}. Ta sẽ mô tả chiến lược thắng của người thứ hai. Trước hết, giống như lời giải của E1, của bài toán của Category B, và chú ý rằng chúng ta có thể giả sử rằng người chơi đầu tiên với lược đi đầu tiên của anh ta là nối hai đỉnh liền kề $P$ và $Q$. Người chơi thứ hai với lược đi đầu tiên nối một trong số chúng với đỉnh liền kề $R$. Sau đó, người chơi thứ hai chơi trò chơi trên với $n-2$ đỉnh, giả sử rằng các đỉnh $P, Q$ và $R$ được ''dính với nhau'' thành một.\\
		Ta có thể kiểm ta là người chơi thứ hai sẽ thắng với $n=4$. Không mất tổng quát, giả sử người đầu tiên nối hai điểm $A_0, A_1$. Người chơi thứ hai với lần di chuyển đầu tiên của anh ta là nối $A_2$ với tâm của đường tròn. Sau đó, ta có ba thành phần là $A_0A_1$, $OA_2$ và $A_3$. Người chơi thứ nhất sẽ nối 2 trong ba thành phần trên lại và người thứ hai sẽ thắng.\\
		\textbf{Với $n$ lẻ}. Lời giải giống như lời giải của bài toán Category B, vì người chơi đầu tiên nối với tâm đường tròn ở lần chơi đầu tiên.\\
		\underline{Ghi chú:}
		
		Điều kiện áp đặt trên tại tâm đường tròn không đóng vai trò nào, vì trong cả hai trường hợp, nó được kết nối với đỉnh. Tuy nhiên, nó làm phức tạp việc sử dụng đối xứng.
		
		Trường hợp an toàn của bài toán Category B cũng có thể được thực hiện bằng phép quy nạp. Tuy nhiên, trong lời giải ở trên được gọi là  một thuật toán riêng.
	}
\end{ex}

\begin{ex}%[HSG Belarus năm 2018, bảng B, vòng 1]%[Phan Ngọc Toàn, Dự án EX-Nat.MO-18]%[1D0G6]
	Trong mặt phẳng kẻ ô đơn vị, cho một hình $A$ gồm một số hữu hạn các ô (đơn vị) thoả mãn đồng thời các điều kiện sau
	\begin{enumerate}[a)]
		\item mỗi ô của $ A $ đều có đúng hai ô của $A$ kề với nó; 
		\item hình $ A $ (tập các điểm thuộc các ô đơn vị của $ A $) có thể chia thành các hình thang cân với diện tích bằng $ 2 $ với đỉnh là các nút (và các góc nhọn của hình thang cân là $ 45^\circ$).
	\end{enumerate} 
Chứng minh rằng số các ô của $ A $ chia hết cho $ 8 $.
	\loigiai
	{
\begin{center}
\begin{tikzpicture}[>=stealth,scale=1, line join = round, line cap = round]
\tkzInit[xmin=-6.5,xmax=5.5,ymin=-6.5,ymax=5.5]
\tkzClip
\tkzGrid
\draw (-5.5,-5.5) node[scale=2]{1}; \draw (-5.5,-3.5) node[scale=2]{4}; \draw (-5.5,-1.5) node[scale=2]{3};\draw (-5.5,0.5) node[scale=2]{2}; \draw (-5.5,2.5) node[scale=2]{1}; \draw (-5.5,4.5) node[scale=2]{4};
\draw (-3.5,-5.5) node[scale=2]{2}; \draw (-3.5,-3.5) node[scale=2]{3};\draw (-3.5,-1.5) node[scale=2]{4};\draw (-3.5,0.5) node[scale=2]{1}; \draw (-3.5,2.5) node[scale=2]{2}; \draw (-3.5,4.5) node[scale=2]{3};
\draw (-1.5,-5.5) node[scale=2]{3}; \draw (-1.5,-3.5) node[scale=2]{2};\draw (-1.5,-1.5) node[scale=2]{1};\draw (-1.5,0.5) node[scale=2]{4}; \draw (-1.5,2.5) node[scale=2]{3}; \draw (-1.5,4.5) node[scale=2]{2};
\draw (0.5,-5.5) node[scale=2]{4}; \draw (0.5,-3.5) node[scale=2]{1};\draw (0.5,-1.5) node[scale=2]{2};\draw (0.5,0.5) node[scale=2]{3}; \draw (0.5,2.5) node[scale=2]{4}; \draw (0.5,4.5) node[scale=2]{1};
\draw (2.5,-5.5) node[scale=2]{1}; \draw (2.5,-3.5) node[scale=2]{4};\draw (2.5,-1.5) node[scale=2]{3};\draw (2.5,0.5) node[scale=2]{2}; \draw (2.5,2.5) node[scale=2]{1}; \draw (2.5,4.5) node[scale=2]{4};
\draw (4.5,-5.5) node[scale=2]{2}; \draw (4.5,-3.5) node[scale=2]{3};\draw (4.5,-1.5) node[scale=2]{4};\draw (4.5,0.5) node[scale=2]{1}; \draw (4.5,2.5) node[scale=2]{2}; \draw (4.5,4.5) node[scale=2]{3};
\tkzDefPoints{-2/-2/A,1/-2/B,-1/-1/D,0/-1/C}
\tkzDrawPolygon[color=black,line width =1pt,pattern=dots,
pattern color=gray, opacity=.4](A,B,C,D)
\end{tikzpicture}	
\end{center}
It is clear that it is enough to prove the statement of the problem for connected figures A, since any disconnected figure is divided into several connected parts, each of which (as we prove) has a number of cells divided by 8. Let’s color some cells of the plane into four colors as shown in the figures.\\

Rõ ràng là đủ để chứng minh tuyên bố của vấn đề đối với các số liệu được kết nối A, vì bất kỳ hình nào bị ngắt kết nối được chia thành nhiều phần kết nối, mỗi phần (như chúng tôi chứng minh) có một số ô chia cho 8. Hãy tô màu một số các ô của mặt phẳng thành bốn màu như trong hình.\\

Without loss of generality, assume that some of the trapezoid is placed as shown in the figures ( otherwise, rotate and transfer the coloring). Let’s start to bypass the cells of the figures A starting with this trapezoid so that we move on from the cell of  color 2 (we call such trapezoid a trapezoid 1 -> 2). \\
Không mất tính tổng quát, giả sử rằng một số hình thang được đặt như trong hình (nếu không, xoay và chuyển màu). Hãy bắt đầu bỏ qua các ô của các hình A. Bắt đầu với hình thang này để chúng ta chuyển động từ ô màu 2 (chúng ta gọi hình thang như vậy là hình thang 1 -> 2).\\

It is easy to see that with this bypass  types of trapezoids alternate in tha order 1->2; 2-> 3; 3->4; 4->1. Since at some point we will finish the bypass in the cell of color 1, from which we started, the number of trapezoids passed is divided by 4, which means that the total number of cells of the figure A is divided by 8.
Nó rất dễ dàng để thấy rằng với loại bỏ qua này của hình thang thay thế theo thứ tự tha 1-> 2; 2-> 3; 3-> 4; 4 -> 1. Vì tại một thời điểm nào đó, chúng ta sẽ hoàn thành đường vòng trong ô màu 1, từ đó chúng ta bắt đầu, số lượng hình thang được chia cho 4, có nghĩa là tổng số ô của hình A được chia cho 8.\\

Others and the rectangle 3x1. Note that those 2 polygons are good, because their boundaries coincide with parts of the boundaries of the initial plus another one cell (marked with (*)), covered by a trapezoid. Their areas are 4a+1 and 4b+1 respectively. The total area of the polygon is 4a+1 + 4b+1 +3 = 1 mod 4, as requires.\\

Khác và hình chữ nhật 3x1. Lưu ý rằng 2 đa giác đó là tốt, bởi vì ranh giới của chúng trùng với các phần của ranh giới của ô đầu tiên cộng với một ô khác (được đánh dấu bằng dấu *), được bao phủ bởi một hình thang. Khu vực của họ lần lượt là 4a + 1 và 4b + 1. Tổng diện tích của đa giác là 4a + 1 + 4b + 1 +3 = 1 mod 4, theo yêu cầu.\\

	}
\end{ex}

\begin{ex}%[HSG Belarus năm 2018, bảng B, vòng 2]%[Nhật Thiện, Dự án EX-Nat.MO-18]%[1D0G6]
		Xét một $n-$giác đều cùng với tâm của nó. Hai người chơi trò chơi như sau: họ lần lượt chọn một đỉnh của đa giác rồi nối với một trong hai đỉnh kề hoặc nối với tâm của hình đa giác đó bởi một đoạn thẳng. Người thắng cuộc là người chơi mà sau lượt chơi của anh ta thì ở bất kỳ đỉnh nào của đa giác đều có thể di chuyển đến mọi đỉnh còn lại bằng các đoạn thẳng đã nối ở trên. Với mỗi $n\ge3$, hãy xác định xem ai là người có chiến lược thắng cuộc.
	\loigiai{
	Đáp án: Với $n$ lẻ thì người thứ nhất đi trước thắng, với $n$ chẵn thì người thứ hai thắng.
	\begin{itemize}
		\item Với $n$ chẵn, người thứ nhất đi trước
		\begin{itemize}
			\item Trường hợp $1$: Người thứ nhất nối đỉnh với tâm.\\
			Người thứ hai nối tâm với đỉnh khác. Như vậy, sau khi người thứ hai thực hiện luôn có số lẻ đỉnh được kết nối. Do đó, người thứ nhất không thể nối hai điểm cuối cùng. Khi đó, người thứ hai chiến thắng.
			\item Trường hợp $2$: Người thứ nhất nối hai đỉnh.\\
			Người thứ hai nối một đoạn thẳng đối xứng với đoạn thẳng người thứ nhất vẽ qua tâm. Sau mỗi bước như vậy có số điểm được nối lại là số lẻ. Người thứ hai tiếp tục thực hiện các bước như thế đến khi người thứ nhất không thể di chuyển được nữa.\\
			Giả sử có một lúc nào đó người thứ nhất có thể chiến thắng nếu người thứ hai đi trước. Gọi $x$ là đoạn cuối cùng được nối bởi người thứ nhất ở bước thứ $x$ và $x^*$ là đoạn đối xứng với nó, $z$ là đoạn mà người thứ nhất chiến thắng nếu người thứ hai vẽ $x^*$. Chú ý là nếu $x$ là đoạn đi qua tâm, khi đó tương tự trường hợp $1$.\\
			Xét những điểm còn lại trước khi thực hiện bước $x$. Đoạn $x$ nối $2$ điểm khác nhau $A$ và $B$, đoạn $x^*$ nối hai điểm đối xứng tương ứng khác là $A^*$ và $B^*$. Xét $O$ là tâm đường tròn.\\
			Giả sử $O$ là một trong hai điểm $A$ hoặc $B$, và nó cũng là $A^*$. Điều này có nghĩa là $A=A^*$ là đối xứng tâm và chứa tâm của đường tròn. Bởi vậy, sau khi thực hiện bước $x^*$ số điểm là lẻ giống như bước $x$. Do đó, bước $z$ có thể không chiến thắng.\\
			Giả sử $O$ không thuộc $A$ và $B$. Khi đó có ít nhất một điểm $C$, trong đó có tâm đường tròn. Để thực hiện bước $z$ chiến thằng, phải nối $C$ với một điểm đẵ có từ bước $x$ và $x^*$.\\
			Sau khi thực hiện các bước $x$ và $x*$, các điểm nối lại không bao gồm tâm, $B=A^*$, $A=B^*$ và bước $x^*$ không làm giảm số điểm. Vậy người thứ hai có thể chiến thằng bằng việc thực hiện bước $z$ bao gồm $x^*$.
		\end{itemize}
		\item Với $n$ lẻ, ta chứng minh rằng người thứ nhất có thể chiến thắng nếu nối các đỉnh tùy ý với tâm đường tròn ở bước đầu tiên. Với $n=3$ điều này hiển nhiên.\\
		Giả sử, với $n$ từ $3$ đến $2k-1$ thì điều trên đúng. Xét $n=2k+1$, đánh số các đỉnh của đa giác theo chiều kim đồng hồ: $A_0$, $A_1$, \ldots, $A_{2k+1}$. Người thứ nhất nối $A_0$ với tâm $O$ của đường tròn ở bước đầu tiên của mình. Xét người thứ hai đi đầu tiên:
		\begin{itemize}
			\item Nối $2$ đỉnh khác $A_0$. Giả sử rằng người thứ hai nối $A_{i-1}$ với $A_i$ khi $2\le i\le k+1$. Người thứ nhất nối $A_i$ với $A_{i+1}$, khi đó trò chơi trở thành trường hợp $n=2k-1$. Nghĩa là, các đỉnh $A_{i-1}$, $A_i$, $A_{i+1}$, trong đó có một đỉnh được nối từ $A_{i-2}$ qua $A_{i-1}$, từ $A_{i+2}$ qua $A_{i+1}$, từ tâm qua $A_i$, ngoài ra có hai đường phụ nối từ tâm của đường tròn không đóng bất cứ vai trò nào. Người thứ nhất sẽ tạo ra hai đường đó nếu người thứ hai cũng làm vậy.
			\item Nối $A_0$ với đỉnh liền kề. Giả sử rằng người thứ hai nối $A_1$ với $A_0$. Người thứ nhất nối $A_0$ với $A_{2n+1}$, trò chơi trở về trường hợp $n=2k-1$. Nghĩa là, các đỉnh $A_{2k+1}$, $A_0$, $A_1$ có một đỉnh (nối từ $O$ ở bước thứ nhất của người thứ nhất) tương tự trường hợp trên.
			\item Nối $O$ với đỉnh liền kề của $A_0$. Giả sử người thứ hai nối $A_1$ với $O$. Người thứ nhất nối $A_{2k+1}$ với $O$, trò chơi trở về trường hợp $n=2k-1$. Nghĩa là, các đỉnh $A_{2k+1}$, $A_0$, $A_1$, một trong các đỉnh đó tương tự trường hợp trước. Điều khác biệt duy nhất ở đây bao gồm hai điểm phụ nối tới $O$, điểm $A_1$ và $A_{2k+1}$ có hai đường phụ nối tới $A_0$.
			\item Nối $O$ với các đỉnh không liền kề với $A_0$. Không mất tính tổng quát, giả sử người thứ hai nối $A_{2i}$ với $O$. Người thứ nhất nối $A_i$ với $O$, sau đó trò chơi trở về trường hợp $n=2k-2i+1$. Nghĩa là, xét các đỉnh ở giữa $A_0$ và $A_2$, có một đỉnh nối với $O$ ở lần di chuyển đầu tiên của người chơi đầu tiên. Nếu người chơi thứ hai vẽ một đoạn thẳng nằm trong một trong các miền sau $OA_0A_i$ và $OA_iA_{2i}$, người chơi thứ nhất sẽ vẽ một đoạn thẳng đối xứng với $OA_i$. Có một số chẵn bước phụ không đóng bất cứ vai trò gì, do đó trò chơi giảm tính chính xác với số lượng ít hơn.
		\end{itemize} 
	\end{itemize}
Trong mỗi trường hợp, trò chơi được giảm xuống tương đương với số ít và số lẻ đỉnh. Vậy người thứ nhất có chiến lược chiến thắng với mọi số lẻ $n\ge 3$.
}
\end{ex}

\begin{ex}%[HSG Vương Quốc Anh, vòng 2, năm 2018]%[Thái Văn Đạt, Dự án EX-Nat.MO-18]%[1D0G6]
	Xung quanh một bàn tròn có $n$ vị trí để ngồi uống trà và mỗi vị trí có một chiếc bánh nhỏ đặt trên một cái đĩa. Alice tới đầu tiên, ngồi xuống chiếc bàn và ăn chiếc bánh trước mặt cô ấy. Tiếp đó Mad Hatter tới, anh ta nói với Alice rằng Alice sẽ có một tiệc trà cô đơn và phải liên liên tục thay đổi chỗ ngồi của mình, trong mỗi lần đổi chỗ cô ấy phải ăn cái bánh trước mặt mình (nếu nó chưa được ăn). Mad Hatter là một người rất hách dịch và anh ta nói với Alice rằng khi cô ấy di chuyển lần thứ $i$ với $i=1,2,\cdot,n-1$ thì cô ấy phải di chuyển $a_i$ vị trí theo danh sách $a_1$, $a_2$, $\cdots$, $a_{n-1}$ do anh ta đưa cho cô. Alice không thích những chiếc bánh và cô ấy tự do trong việc chọn di chuyển cùng chiều hay ngược chiều kim đồng hồ trong mỗi lần di chuyển của mình. Với những giá trị nào của $n$ thì Mad Hatter có thể thành công buộc Alice ăn hết những chiếc bánh?\\
{\bf Chú thích:} Alice và Thợ Mũ Điên (Mad Hatter) là hai nhân vật nổi tiếng trong truyện cổ tích {\it Alice ở xứ sở thần tiên}, một trong những truyện cổ tích gối đầu giường của thiếu nhi Anh quốc và nhiều nước trên thế giới. Tình huống tiệc trà cô đơn trong bài toán nói trên cũng được dựng lại từ một tiệc trà có thật trong truyện.
\loigiai{
\textbf{Lời giải (của Sam Bealing).}\\
Đầu tiên, ta chứng minh khẳng định $(1)$: Mad Hatter có thể thành công khi $n$ là một lũy thừa của 2.\\
Trường hợp $n=1$ là tầm thường và $n=2$ được giải quyết với $a_1=1$. Giả sử $(1)$ đúng khi $n=2^k$ với dãy $a_1,a_2,\cdots,a_{2^k-1}$. Khi $n=2^{k+1}$, ta sử dụng dãy $$2a_1,2a_2,\cdots,2a_{2^k-1},1,2a_1,2a_2,\cdots,2a_{2^k-1}.$$
Điều kiện để Mad Hatter thành công là Alice khi di chuyển không được quay lại một chỗ đã ngồi trước đó. Điều này tương đương với không tồn tại hai số nguyên $0\le i\le j\le n$ và dãy các dấu cộng hoặc trừ sao cho $$\pm a_i\pm a_{i+1}\pm \cdots \pm a_j\equiv 0\ (\mod n),$$
vì khi đó thì Alice sẽ quay lại một chỗ ngồi đã qua trước đó.
Giả sử phản chứng tồn tại hai số nguyên và dãy dấu cộng trừ như thế trong trường hợp $n=2^{k+1}$. \\
Số 1 không thể xuất hiện trong dãy $a_i$ đến $a_j$ vì nếu số 1 xuất hiện thì tổng thu được sẽ lẻ và chắc chắn không chia hết cho $2^{k+1}$. Do đó ta có 
	\begin{align*}
		&\pm 2a_i\pm 2a_{i+1}\pm \cdots \pm 2a_j\equiv 0\ (\mod 2^{k+1})\\
		\Leftrightarrow &\pm a_i\pm a_{i+1}\pm \cdots \pm a_j\equiv 0\ (\mod 2^k).
	\end{align*}
Điều này là vô lí do giả thiết quy nạp hay khẳng định $(1)$ đúng theo nguyên lí quy nạp.\\
Tiếp theo, ta chứng minh chỉ duy nhất với $n$ là lũy thừa của 2 thì Mad Hatter có thể thành công.\\
Đặt $s_1=a_1$, $s_2=a_1+a_2$, $\cdots$, $s_{n-1}=a_1+a-2+\cdots+a_{n-1}$.\\
Nếu tồn tại $i$ để $s_i\equiv 0\ (\mod n)$, Alice chỉ việc di chuyển cùng chiều kim đồng hồ liên tục đến lần thứ $i$ thì cô ấy sẽ quay về chỗ ngồi ban đầu hay Mad Hatter thất bại.\\
Tương tự nếu $s_i\equiv s_j\ (\mod n)$ với $j>i$, Alice chỉ việc di chuyển cùng chiều kim đồng hồ liên tục đến lần thứ $j$ thì cô ấy sẽ quay về chỗ ngồi ở bước thứ $i$ hay Mad Hatter cũng thất bại.\\
Do đó để Mad Hatter thành công thì các giá trị của $s_1$, $s_2$, $\cdots$, $s_{n-1}$ phải lập thành một hệ thặng dư thu gọn (không chứa số 0) modulo $n$.\\
Giả sử $p$ là một ước nguyên tố lẻ của $n$, nó tồn tại trong trường hợp $n$ không là lũy thừa của 2. Bây giờ ta quy ước làm việc với modulo $p$, ta thấy các giá trị $s_1$, $s_2$, $\cdots$, $s_{n-1}$ chứa đúng $\dfrac{n}{p}$ hệ thặng dư thu gọn và $\dfrac{n}{p}-1$ hệ thặng dư đầy đủ (chứa cả số 0).\\
Do đó với mỗi $s_1$, $s_2$, $\cdots$, $s_{n-2}$ xác định thì chỉ có duy nhất một giá trị số dư modulo $p$ cho $s_{n-1}$. Do việc Alice đi $a_i$ bước theo chiều kim đồng hồ tương đương với đi $n-a_i$ bước theo chiều ngược kim đồng hồ và ngược lại, nên để Mad Hatter thành công thì việc thay $a_{n-1}$ và $n-a_{n-1}$ đều phải cho kết quả như nhau hay việc thay thế này phải đảm bảo cho cùng một giá trị số dư đối với $s_{n-1}$. Khi đó ta thu được $$s_{n-2}+a_{n-1}\equiv s_{n-2}-a_{n-1}\ (\mod p),$$
kéo theo $2a_{n-1}\equiv 0\ (\mod p)$ hay $a_{n-1}\equiv 0\ (\mod p)$.\\
Từ đó ta thu được $s_{n-1}\equiv s_{n-2}\ (\mod p)$.\\
Do đó khi $s_1$, $s_2$, $\cdots$, $s_{n-3}$ xác định thì chỉ có duy nhất một giá trị số dư modulo $p$ cho cả $s_{n-1}$ và $s_{n-2}$. Bằng cách lập luận hoàn toàn tương tự thì ta được $a_{n-2}\equiv 0\ (\mod p)$ và $s_{n-2}\equiv s_{n-3}\ (\mod p)$.\\
Cứ tiếp tục như vậy ta có
$$s_1\equiv s_2\equiv\cdots\equiv s_{n-1}\ (\mod p),$$
điều này mâu thuẫn với việc dãy các giá trị $s_1$, $s_2$, $\cdots$, $s_{n-1}$ chứa một hệ thặng dư đầy đủ modulo $p$ hay $n$ không thể có ước nguyên tố lẻ nếu Mad Hatter muốn thành công.\\
Vậy Mad Hatter thành công khi và chỉ khi $n$ là một lũy thừa của 2.  
}
\end{ex}

\begin{ex}%[HSG Bulgari năm 2018, vòng 1]%[Vũ Nguyễn Hoàng Anh, Dự án EX-Nat.MO-18]%[1D0G6]
	Cho $M$ là tập chứa $n$ số nguyên dương, với $n$ là số nguyên dương lẻ. Một tập con khác rỗng $T$ của $M$ được gọi là \textit{ tập tốt} nếu tích các phần tử của $T$ chia hết cho tổng các phần tử của $M$ nhưng không chia hết cho bình phương của tổng này. Biết $M$ là tập tốt, tìm số tập con tốt lớn nhất có thể có của $M$.
	\loigiai{
		Nếu $A\cup B=M$ và $A\cap B=\varnothing$ thì khi đó nhiều nhất một trong hai tập $A$ và $B$ là tập tốt (vì ngược lại thì $M$ không là tập tốt).  Do đó số tập tốt không vượt quá một nửa số tập con của $M$ hay $2^{n-1}$.\\
		Ta sẽ chứng minh $2^{n-1}$ là số cần tìm. Đặt $n=2k+1$ và gọi $p$ là số nguyên tố sao cho $p>\dfrac{n(n-1)}{2}$. Viết
		\[p^k=a_1+a_2+\cdots+a_{n-1}+a_n,\]
		ở đó $a_i=i$ với $i=1,2,\dots,n-1$ và $a_n=p^k-\dfrac{n(n-1)}{2}$. Khi đó $\gcd(a_i,p)=1$ với mọi $i$. Xét tập 
		\[M=\{ pa_i \mid i=1,2,\dots,n \}.\]
		Khi đó tổng các phần tử của $M$ là $p^{k+1}$. Dễ thấy rằng các tập con tốt của $M$ đều có không dưới $k+1$ phần tử, và có đúng $2^{n-1}$ tập như vậy.
	}
\end{ex}

\begin{ex}%[HSG Croatia năm 2018, lớp 11]%[Le Thanh Hai, Dự án EX-Nat.MO-18]%[1D0G6]
	Hai người chơi thay phiên viết mỗi lần một chữ số, từ trái sang phải. Một người được coi là thua nếu sau lượt của người đó, có một dãy các chữ số
	$$a_1,a_2, \ldots ,a_n$$ sao cho tồn tại một số nguyên $k$ để $\overline{a_ka_{k+1}\ldots a_n}$ là bội của $11$.\\
	Hỏi người nào có thể thắng và cách chơi của anh ấy như thế nào?
	\loigiai{
		Ta sẽ chứng minh người chơi thứ hai có thể thắng bất kể người chơi thứ nhất viết như thế nào. Tất nhiên rằng không ai trong hai người chơi sẽ viết số $0$ vào bất kì lượt nào.\\
		Chú ý rằng $10^r \equiv (-1)^r$ (mod $11$), do đó
		$$\overline{a_ka_{k+1}\ldots a_n}\equiv a_n-a_{n-1}+a_{n-2}-\cdots+(-1)^{k-1}a_k\quad (\mod 11)$$
		Gọi $N_k$ là phần dư khi chia $\overline{a_ka_{k+1}\cdots a_n}$ cho $11$, với $k=1,\ldots,n$. Ta có sau $n$ lượt, các số $N_1,\ldots,N_n$ là các số phân biệt, và trong lượt tiếp theo ta có các số $$a_{n+1}-N_1,\ldots,a_{n+1}-N_n,a_{n+1} \,  (\mod 11)$$ là những số phân biệt kể từ $a_{n+1}\ne 0$. Theo quy nạp, ta kết luận rằng sau mỗi lượt của trò chơi (với $n\le 10$), các số $N_1,\ldots,N_n$ là phân biệt. Bởi vì cách thức mà $N_1,\ldots,N_n$ biến đổi mỗi lượt, ta kết luận được có $n+1$ chữ số, nếu người chơi viết chúng sẽ dẫn anh ấy đến việc thua cuộc.\\
		Giả sử trò chơi kết thúc sau $9$ lượt chơi. Người chơi thứ hai thua cuộc nếu và chỉ nếu sau $9$ lượt, bộ số $\{N_1,N_2,\ldots,N_9\}$ là $\{1,2,\ldots,9\}$. Người chơi thứ hai thắng nếu và chỉ nếu $10$ là một trong các số $N_1,N_2,\ldots,N_9$.\\
		Nếu sau $8$ lượt chơi, $\{N_1,\ldots,N_8\}$ thiếu hai số không liên tiếp nằm giữa $1$ và $10$, khi đó bất kể người chơi đầu tiên chọn trong lượt thứ $9$, một trong các số $N_1,\ldots,N_9$ phải là $10$. Thật vậy, nếu người chơi thứ nhất chọn $X$, khi đó tồn tại $k$ thỏa $N_k=X+1$ (trong lượt thứ $9$). Do đó, sau lượt thứ $9$ ta có 
		$$N_k\equiv X-(X-1)\equiv -1 \equiv 10 (\mod 11).$$
		Ta kết luận được người chơi thứ hai chắc chắn rằng sau $8$ lượt chơi, giữa các số $N_1,\ldots,N_8$ không có hai số liên tiếp. Và người chơi thứ hai có thể đảm bảo trò chơi kéo dài ít nhất $7$ lượt chơi để
		$${N_1,\ldots,N_7}={1,2,\ldots,10}\setminus \{X,Y,Z\}.$$
		Nếu giữa các số $X,Y,Z$ không có hai số liên tiếp, thì người chơi thứ hai có thể chọn bất kì trong chúng.\\
		Nếu $Y=X+1$, thì người chơi thứ hai có thể viết một trong các số $X$ hoặc $X+1$.\\
		Vì vậy, sau lượt thứ $8$, có hai số liên tiếp còn thiếu từ $N_1,\ldots,N_8$. Thật vậy, nếu $Z=X-1$, người chơi thứ hai viết $X$, và nếu $Z\ne X-1$, người chơi thứ hai viết $X+1$.
	}
\end{ex}

\begin{ex}%[HSG Croatia năm 2018, lớp 12]%[Nguyện Ngô, Dự án EX-Nat.MO-18]%[1D0G6]
Có $300$ người chơi tại một cuộc thi. Trong đó, $2$ người chơi bất kỳ hoặc quen biết nhau hoặc không quen biết nhau; và trong $3$ người bất kỳ thì có ít nhất $2$ người không quen nhau. Xác định giá trị lớn nhất có thể của $n$ mà thỏa mãn các điều kiện:
\begin{itemize}
\item Mỗi người chơi quen biết với tối đa $n$ người chơi khác.
\item Với mọi số nguyên dương $m$ thỏa mãn $1\le m\le n$, tồn tại ít nhất $1$ người chơi quen biết với đúng $m$ người chơi khác.
\end{itemize}
	\loigiai{Trước hết, ta chứng minh $n\le 200$. Giả sử $n>200$ thỏa mãn các điều kiện đề bài. Khi đó có người chơi $X$ quen biết với $201$ người chơi khác. Gọi $S$ là tập hợp gồm $201$ người chơi này. Luôn tồn tại $1$ người biết đúng $1, 2, \ldots, 200$ người chơi khác.\\
Ta nói người chơi có \emph{bậc $m$} nếu người đó biết đúng $m$ người chơi khác.\\
Ta có $X$ quen biết với tất cả người chơi trong tập $S$. Mà trong $3$ người bất kì, luôn tồn tại ít nhất $2$ người không quen biết nhau nên $2$ người chơi bất kỳ trong tập $S$ đều không biết nhau. Do đó mỗi phần tử của $S$ có bậc tối đa là $300-201=99$.\\
Người chơi $X$ nhận $1$ bậc. Những người chơi thuộc tập $S$ nhận tối đa $99$ bậc phân biệt(từ bậc $1$ đến bậc $99$). Do có $98$ người khác $X$, không thuộc tập $S$ nên $98$ người này nhận tối đa $98$ bậc phân biệt.\\
Suy ra có tối đa $1+99+98=198<201$ bậc phân biệt. Do đó không thể có những người chơi biết đúng $1, 2, \ldots, 201$ người chơi khác. Suy ra $n\le 200$.\\
Bây giờ ta chứng minh $n=200$ thỏa mãn yêu cầu bài toán.\\
Kí hiệu $100$ người chơi là $A_1, A_2, \ldots, A_{100}$ và gọi họ là $A-$người chơi. Kí hiệu $200$ người còn lại là $B_1, B_2, \ldots, B_{200}$ và gọi họ là $B-$người chơi. Xét $A-$người chơi và $B-$người chơi thỏa mãn:
\begin{itemize}
\item Với mỗi $i\in\{1, 2, \ldots, 100\}$, $A_i$ quen biết $B_j$ với mọi $j\ge i$.\hfill{(1)}
\item $2$ người chơi bất kỳ trong $A-$người chơi không quen nhau, $2$ người chơi bất kỳ trong $B-$người chơi không quen nhau.\hfill{(2)}
\end{itemize}
Khi đó:
\begin{itemize}
\item Từ $(2)$ ta có: Trong ba người chơi bất kỳ, có ít nhất $2$ người không quen nhau. Mỗi người chơi quen biết tối đa $200$ người chơi khác.
\item Từ $(1)$ ta có: Với mỗi $i\in\{1, 2, \ldots, 100\}$, $A_i$ quen biết đúng $201-i$ người chơi khác là $B_i$, $B_{i+1}$, $\ldots$, $B_{200}$. Do đó có những người chơi biết đúng $200, 199, \ldots, 101$ người chơi khác.\\
    Với mỗi $j\in\{1, 2, \ldots, 100\}$, $B_j$ quen biết đúng $j$ người chơi khác là $A_1$, $\ldots$, $A_{j-1}$, $A_j$. Do đó có những người chơi biết đúng $1$, $2$, $\ldots$, $100$ người chơi khác.
\end{itemize}
Vậy $n=200$ là giá trị lớn nhất thỏa mãn đề bài.
	}
\end{ex}

\begin{ex}%[HSG Czech and Slovak năm 2018, vòng 1]%[Nguyễn Anh Quốc, Dự án EX-Nat.MO-18]%[1D0G6]
	Trong một câu lạc bộ nọ, có một số cặp thành viên là bạn bè. Giả sử $k\ge3$, ta nói rằng một câu lạc bộ là $k$-tốt nếu mỗi nhóm $k$ thành viên có thể ngồi xung quanh một cái bàn tròn sao cho hai người ngồi kề nhau là bạn bè. Chứng minh rằng nếu một câu lạc bộ là $6$-tốt thì nó là $7$-tốt.\quad (Josef Tkadlec)
	
	\loigiai{Xét một câu lạc bộ $6$-tốt và kí hiệu $A,\ldots,G$ là $7$ thành viên của nó. Để thỏa mãn yêu cầu ta cần chỉ ra rằng $A,\ldots,G$ có thể ngồi xung quanh một cái bàn. Chỉ xét tình bạn trong số $A,\ldots, G$.\\
		Đầu tiên, ta thấy rằng mỗi thành viên có ít nhất $3$ người bạn. Không mất tính tổng quát, xét  thành viên $G$, từ giả thiết, $B,\ldots,G$ có thể ngồi thỏa mãn yêu cầu. Do đó, $G$ có ít nhất hai người bạn. Không mất tính tổng quát, $F$ là một trong những người bạn của $G$. Từ giả thiết, $A,\ldots,E,G$ (bỏ qua $F$) có thể ngồi xung quanh bàn tròn theo yêu cầu, vì thế $G$ có ít nhất hai người bạn ngoài $F$ trong tổng số ít nhất ba người bạn.\\
		Từ đó mỗi thành viên có ít nhất $3$ người bạn, ở đây tồn tại một thành viên có ít nhất $4$ người bạn(nói cách khác số cặp bạn bạn thân bằng $\dfrac{1}{2}\cdot7\cdot3$,mà điều này rõ ràng là không thể). Không mất tính tổng quát, giả sử $G$ có ít nhất $4$ người bạn.\\
		Từ giả thiết, $A,\ldots,F$ có thể ngồi thỏa mãn yêu cầu. Trong số chỗ ngồi như vậy, một vài cặp bạn bè của hai trong số bốn người bạn của $G$ ngồi cạnh nhau và chúng ta có thể để $G$ ngồi giữa họ.
		Chú ý. Mệnh đề " Nếu một câu lạc bộ $k$-tốt khi nó là $(k+1)$-tốt đúng khi $k\in \left\lbrace 3,4,5,6,7,8,10,11,13,16 \right\rbrace$. Các phản ví dụ trên là đồ thị \textit{hypo-Hamilton}. Với $k=9$, một ví dụ như vậy là đồ thị \textit{Petersen} (hình 1).
		\begin{center}
			\begin{tikzpicture}[scale=1, line join=round, line cap=round]
			\tkzDefPoints{0/0/O}
			\def\canh{4}
			\foreach \n in {0,1,2,3,4} {
				\coordinate (M_\n) at ($(O)+(90+72*\n:\canh cm)$);
				\coordinate (N_\n) at ($(O)+(90+72*\n:\canh *0.5 cm)$);
				\draw (M_\n) circle (2pt);
				\draw (N_\n) circle (2pt);	
				\draw (M_\n)--(N_\n);
			}
			\tkzDrawPolygon(M_0,M_1,M_2,M_3,M_4)
			\tkzDrawSegments(N_0,N_2 N_0,N_3 N_3,N_1 N_1,N_4 N_4,N_2)
			\tkzLabelSegment[below](M_2,M_3){Hình 1}
			
			\end{tikzpicture}
		\end{center}
	}
\end{ex}

\begin{ex}%[HSG Hy Lạp năm 2018]%[Đỗ Viết Lân, Dự án EX-Nat.MO-18]%[1D0G6]
Trong mặt phẳng cho $n$ điểm $(n\geq 4)$ và không có $3$ điểm nào thẳng hàng. Gọi $A(n)$ là số hình bình hành có đỉnh lấy từ các điểm trên và có diện tích bằng $1$. Chứng minh rằng $A(n) \leq \dfrac{n^2-3n}{4}$ với mọi $n\geq 4$.
\loigiai{
Giả sử rằng các đoạn thẳng tạo thành từ $n$ điểm đã cho được chia thành các nhóm đoạn thẳng mà các đoạn thẳng trong một nhóm song song với nhau. Khi đó hình bình hành chỉ có thể tạo thành từ hai đoạn thẳng trong cùng một nhóm.\\
Hơn nữa, với điểm $X$ nào đó trong $n$ điểm ta kẻ được $n-1$ đoạn thẳng không song song với nhau đôi một. Lấy hai điểm $Y$, $Z$ khác $X$ thì đoạn $YZ$ không song song với bất kì đoạn nào trong $n-1$ đoạn trên (vì trái lại thì $X$, $Y$, $Z$ thẳng hàng). Vậy ta có ít nhất $n$ nhóm.\\
Do không có 3 điểm nào thẳng hàng nên với mỗi cạnh bất kỳ chỉ là cạnh của tối đa hai hình bình hành (ở về hai phía của đoạn thẳng đó) có diện tích bằng $1$. Như vậy ta có tối đa $2\cdot C_n^2$ hình bình hành.\\
Mặt khác, giả sử nhóm các đoạn thẳng được xếp theo chiều dọc thì đoạn thẳng trên cùng và dưới cùng chỉ tạo được tối đa $1$ hình bình hành. Do đố số hình bình hành nhiều nhất có thể là $2\cdot C_n^2 - 2n = n^2-3n$.\\
Cuối cùng, do hình bình hành được tạo nên từ $4$ cạnh nên $A(n) \leq \dfrac{n^2-3n}{4}$.
}
\end{ex}

\begin{ex}%[HSG Philippine năm 2018]%[Bùi Quốc Hoàn, Dự án EX-Nat.MO-18]%[1D0G6]
	Giả sử $n$ là số một số nguyên dương. Một ma trận cỡ $n\times n$ (một bảng hình chữ nhật của các số của $n$ dòng và $n$ cột) được gọi là bạch kim nếu thỏa mãn các điều kiện:
	\begin{enumEX}[(i)]{1}
		\item $n^{2}$ trong bảng là các số nguyên từ $1$ đến $n$;
		\item Mỗi dòng, mỗi cột và đường chéo chính (phái trên góc bên trái đến góc dưới bên phải) chứa các số nguyên từ $1$ đến $n$ đúng một lần.
		\item Tồn tại một tập hợp gồm $n$ phần tử chứa các số nguyên từ $1$ đến $n$ sao cho không có hai phần tử nằm trên cùng một hàng hoặc cùng một cột hoặc nằm trên đường chéo chính của ma trận.
	\end{enumEX}
Tìm tất cả các giá trị của $n$ sao cho ma trận $n\times n$ là bạch kim.\\
{\it{Đây là cơ sở trong bài báo "Một phương pháp đơn giản cho cấu trúc  hình vuông Latinh bởi Ervin Gergely, tạp chí về lý thuyết tổ hợp (A) 16, 266- 272 (1974)"}}.
	\loigiai{Dễ thấy không có ma trận bạch kim với $n = 1$ và $n = 2$. Chúng ta sẽ chứng minh rằng tồn tại ma trận bạch kim với mọi $n\geq 3$. \\
	Thật vậy, trước hết ta định nghĩa đường ngang như là một tập hợp gồm  $n$ phần tử của ma trận  được lấy từ các dòng và các cột khác nhau và chứa các số nguyên từ $1$ đến $n$.\\
    Khi $n\geq 3$ và $n$ là  số lẻ, ta xây dựng ma trận bạch kim cỡ  $n\times n$ theo cách:
 
 Trước tiên, ta điền vào dòng thứ nhất của ma trận bởi các số  $1, n, n - 1, \ldots, 3, 2$ theo thứ tự từ trái qua phải.\\
 Sau đó, với mỗi " đường chéo" (được xác định từ trên xuống dưới, từ trái qua phải và quay lại cột thứ $1$ đến cột thứ $n$) bắt đầu từ phần tử trên dòng thứ $1$ và tăng dần theo cấp số cộng với công sai là $1$ cho đến khi xuống hàng cuối cùng. Chú ý rằng các phần tử được viết dưới dạng $\mod n$, nhưng trong trường hợp lớp thặng dư là $0$ thì chúng ta viết là $n$.\\
Ví dụ với $n = 3$ ta có ma trận bạch kim sau đây:
	\begin{align*}
	\begin{pmatrix}
	1 &3 &2\\
	3 & 2&1\\
	2&1&3
	\end{pmatrix} = 	\begin{pmatrix}
	1 &  & \\
	 & 2& \\
	& &3
	\end{pmatrix} + 	\begin{pmatrix}
	  &3 & \\
	 & &1\\
	2& & 
	\end{pmatrix} + \begin{pmatrix}
	   &   &2\\
	3 &   &  \\
	  &1& 
	\end{pmatrix}
	\end{align*}
Từ cách  xây dựng trên, chúng ta xác định được phần tử dòng $i$, cột $i$ là  $a_{ij} = 2i - j \left(\mod n\right)$ ($1\leq i, j\leq n$).\\
Cố định dòng thứ $i$, các phần tử tại các cột khác nhau $j$ và $j'$ là khác nhau.\\
Cố định cột thứ $j$, các phần tử tại các dòng khác nhau $i$ và $i'$ là khác nhau vì $n$ là lẻ.\\
Đường chéo, bắt đầu từ  phần tử dòng thứ nhất là $2$, là một đường ngang. Hơn nữa, mỗi đường chéo là đường ngang. Vì thế, ma trận được xác định như trên là bạch kim.\\
Xét trường hợp  $n\geq 8$ là chẵn, khi đó $n - 3\geq 5$ là lẻ.\\
Xét ma trận bạch kim cỡ $\left(n - 3\right)\times\left(n - 3\right)$  được ký hiệu là $C_{n - 3}$ theo cách xác định như trên.\\
Ta bắt đầu xây dựng ma trận bạch kim cỡ $n\times n$ như sau:
$$\left(\begin{array}{@{}c|c  @{}}
{C}_{n - 3}&   \\
\hline
   &{C}_{3}\\
\end{array}\right),{\hskip 0.8 cm }\text{ở đó}\quad C_{3} = \begin{pmatrix}
n - 2& n  &n - 1\\
n & n - 1  &n - 2  \\
n - 1&n - 2& n
\end{pmatrix}$$
Tiếp theo, ta cần xác định ma trận cỡ $3\times\left(n - 3\right)$ và  ma trận cỡ $\left(n - 3\right)\times 3$ kề với $C_{n - 3}$.\\
Do $\left(n - 3\right) - 1 =  n -  4\geq 4$ các đường chéo của $C_{n - 3}$ khác với đường chéo chính, ta chọn $3$ đường chéo khác nhau.\\
Ta đã chỉ ra mỗi đường chéo, ngoại trừ đường chéo chính của ma trận $C_{n - 3}$ là một đường ngang.\\
Chọn một đường ngang của $C_{n - 3}$ chiếu các phần tử của nó đến một dòng rỗng và một cột rỗng. Sau đó, thay thế tất cả các phần tử đã chọn của dòng ngang đó bởi $n - 2$.\\
Chúng ta tiếp tục như vậy với hai dòng ngang khác, rồi thay các phần tử của các dòng ngang đó  lần lượt là $n - 1$ và $n$. Khi đó, ma trận tạo thành là một ma trận bạch kim.\\
Thật vậy, ta có $n - 4\geq 4$ dòng ngang  của ma trận bạch kim $C_{n - 3}$. Do đó tồn tại ít nhất một dòng ngang chưa được sử dụng.  Kết hợp dòng ngang đó với một dòng ngang của $C_{3}$  ta nhận được một dòng ngang của ma trận cỡ $n\times n$. Như vậy, ma trận được xác định như trên là bạch kim.\\
Ta có thể minh họa cách xây dựng mà trận bạch kim với $n = 8$. Ma trận cuối cùng là bạch kim với những phần tử trong ô vuông tạo thành một dòng ngang của ma trận. 
$$\left(\begin{array}{@{}c|c  @{}}
\begin{matrix}
1& 5  &4&3&2\\
3 & 2 & 1& 5&4 \\
5&4 & 3&2&1\\
2&1&5&4&3\\
4&3&2&1&5
\end{matrix}&   \\
\hline
&\begin{matrix}
6& 8  &7\\
8 & 7&6\\
7&6& 8
\end{matrix}\\
\end{array}\right)
\longrightarrow 
\left(\begin{array}{@{}c|c  @{}}
\begin{matrix}
1&\circled{6}&4&3&2\\
3 & 2 & \circled{6}& 5&4 \\
5&4 & 3&\circled{6}&1\\
2&1&5&4&\circled{6}\\
\circled{6}&3&2&1&5
\end{matrix}&\begin{matrix}
5&  \\
1&  \\
2&  \\
3&  \\
4&
\end{matrix}   \\
\hline
\begin{matrix}
{\hskip 0.5 cm}4{\hskip 0.2 cm}&{\hskip 0.1 cm}5{\hskip 0.2 cm}&{\hskip 0.05 cm}1{\hskip 0.25 cm}&2{\hskip 0.25 cm}&3& \\
& &  &  &  & \\
&  &  &  &  &
\end{matrix} &\begin{matrix}
6 & 8  &7\\
8 & 7&6\\
7&6& 8
\end{matrix}\\
\end{array}\right)\longrightarrow$$

$$\longrightarrow\left(\begin{array}{@{}c|c  @{}}
\begin{matrix}
1&6 & \circled{7}&3&2\\
3 & 2 & 6&\circled{7}&4 \\
5&4 & 3&6& \circled{7}\\
 \circled{7}&1&5&4&6\\
6& \circled{7}&2&1&5
\end{matrix}&\begin{matrix}
5& 4  \\
1& 5 \\
2& 1\\
3& 2 \\
4&3
\end{matrix}\\
\hline
\begin{matrix}
{\hskip 0.5 cm}4{\hskip 0.2 cm}&{\hskip 0.1 cm}5{\hskip 0.2 cm}&{\hskip 0.05 cm}1{\hskip 0.25 cm}&2{\hskip 0.25 cm}&3& \\
{\hskip 0.5 cm}2{\hskip 0.2 cm}&{\hskip 0.1 cm}3{\hskip 0.2 cm}&{\hskip 0.05 cm}4{\hskip 0.25 cm}&5{\hskip 0.25 cm}&1& \\
&  &  &  &  &
\end{matrix} &\begin{matrix}
6& 8  &7\\
8 & 7&6\\
7&6& 8
\end{matrix}\\
\end{array}\right)
\longrightarrow 
\left(\begin{array}{@{}c|c  @{}}
\begin{matrix}
1&6 &7& \circled{8}&\boxed{2}\\
\boxed{3} & 2 & 6&7& \circled{8} \\
 \circled{8}&\boxed{4} & 3&6& 7\\
7& \circled{8}&\boxed{5}&4&6\\
6& 7& \circled{8}&\boxed{1}&5
\end{matrix}&\begin{matrix}
5{\hskip 0.2 cm}& 4{\hskip 0.2 cm}&3  \\
1{\hskip 0.2 cm}& 5{\hskip 0.2 cm} &4\\
2{\hskip 0.2 cm}& 1{\hskip 0.2 cm}&5\\
3{\hskip 0.2 cm}& 2{\hskip 0.2 cm} &1\\
4{\hskip 0.2 cm}&3{\hskip 0.2 cm}&2
\end{matrix}\\
\hline
\begin{matrix}
{\hskip 0.5 cm}4{\hskip 0.2 cm}&{\hskip 0.1 cm}5{\hskip 0.2 cm}&{\hskip 0.05 cm}1{\hskip 0.25 cm}&2{\hskip 0.25 cm}&3& \\
{\hskip 0.5 cm}2{\hskip 0.2 cm}&{\hskip 0.1 cm}3{\hskip 0.2 cm}&{\hskip 0.05 cm}4{\hskip 0.25 cm}&5{\hskip 0.25 cm}&1& \\
{\hskip 0.5 cm}5{\hskip 0.2 cm}&{\hskip 0.1 cm}1{\hskip 0.2 cm}&{\hskip 0.05 cm}2{\hskip 0.25 cm}&3{\hskip 0.25 cm}&4&
\end{matrix} &\begin{matrix}
6& \boxed{8}&7\\
8 & 7&\boxed{6}\\
\boxed{7}&6& 8
\end{matrix}\\
\end{array}\right)$$
Cuối cùng ta xét các ma trận sau
$$\begin{pmatrix}
1& 2&3&4\\
3 &4&1&2 \\
4&3&2&1\\
2&1&4&3
\end{pmatrix}{\hskip 2 cm}
\begin{pmatrix}
1& 2&3&4&5&6\\
5 &3&6&1&4&2\\
4&1&5&2&6&3\\
2&4&1&6&3&5\\
6&5&4&3&2&1\\
3&6&2&5&1&4
\end{pmatrix}$$
Suy ra ma trận bạch kim với $n = 4$ và $n = 6$.
 }
\end{ex}

\begin{ex}%[HSG Serbia năm 2018, vòng 1]%[Nguyễn Sỹ, Dự án EX-Nat.MO-18]%[1D0G6]
Cho một tập gồm $n$ đường thẳng trên mặt phẳng sao cho không có 2 đường thẳng trong số chúng song song, hoặc 3 đường thẳng nào trong số chúng đồng quy. Một điểm gọi là \textit{giao điểm} nếu điểm này nằm trên hai trong số $n$ đường thẳng trên.
\begin{enumerate}
	\item Chứng minh rằng tồn tại một đường thẳng trong số $n$ đường thẳng trên sao cho mỗi nửa phẳng xác định bởi đường thẳng này chứa ít nhất 
	$
	\Big[  \dfrac{(n-1)(n-2)}{10} \Big]
	$
	giao điểm.
	\item Tìm tất cả các giá trị của $n$ để sao cho số giao điểm trên một trong hai nửa phẳng tạo bởi
	đường thẳng tìm được ở trên là gần với giá trị $\Big[  \dfrac{(n-1)(n-2)}{10} \Big]$  nhất. 
	
	\hspace{11cm} \textit{(Du\v{s}an Djuki\'c)} 
\end{enumerate} 	
\loigiai{
 Với mỗi đường thẳng trong $n$ đường thẳng đã cho, thì số giao điểm nằm ngoài đường thẳng này là $$
m = \dfrac{(n-1)(n-2)}{2}.
$$
Mỗi đường thẳng chia mặt phẳng thành 2 phần. Ta ký hiệu $p$ là đường thẳng mà sự khác nhau giữa số giao điểm của 2 nửa mặt phẳng tạo bởi $p$ là nhỏ nhất. Giả sử số giao điểm của một nửa phẳng tạo bởi $p$ là $k$ với $k \leq m=\dfrac{(n-1)(n-2)}{2} $. Ta định nghĩa một bộ ba $(d,A,B)$ là một bộ gồm đường thẳng $d$ và hai giao điểm $A,B$ sao cho $A$ và $B$ nằm về 2 phía của $d$.
\\
Theo bất đẳng thức Cauchy, ta thấy ngay với mỗi đường thẳng $d$ thì số bộ ba $(d,A,B)$ không vượt quá $k(m-k)$. Vậy tổng số bộ ba là $N$ không vượt quá $nk(m-k)$.   

Trong số các bộ ba, ta phân chia chúng làm 2 loại. Loại I là bộ ba $(d,A,B)$ với $A,B$ cùng nằm trên một đường thẳng. Loại II là các bộ ba còn lại. Giờ ta xét 2 trường hợp đặc biệt
\begin{itemize}
	\item Bộ 4 đường thẳng tùy ý trong $n$ đường thẳng trên, ta thấy mỗi bộ 4 đường thẳng cùng với các giao điểm chúng tạo ra thì tạo được 4 bộ ba loại I. Hơn nữa, mỗi bộ ba $(d,A,B)$ tương ứng với đúng 1 bộ 4 đường thẳng. Do đó, số bộ ba thuộc loại I tạo bởi $n$ đường thẳng là $4 C^4_n$.    
	\item Bộ 5 đường thẳng tùy ý trong $n$ đường thẳng trên, ta thấy  mỗi bộ 5 đường thẳng cùng với các giao điểm chúng tạo ra thì tạo được ít nhất 5 bộ ba loại II. Minh họa cho các khả năng của trường hợp này trong hình \ref{topo5}.\\
\begin{center}
\begin{tikzpicture}[scale=1, line join=round, line cap=round]

\clip (-7,-4) rectangle (10,3);
%%%%%%%%%%%%%%%
\tkzDefPoints{-6/1/A_1,-4/1/B_1,-5/-2/C_1,0/0/A_2,1/-2/B_2,-1/-2/C_2}

\tkzDrawSegments(A_1,B_1 B_1,C_1 C_1,A_1)
\tkzCentroid(A_1,B_1,C_1)\tkzGetPoint{G_1}
\coordinate (D_1) at ($(A_1)!0.8!(C_1)$);
\coordinate (E_1) at ($(B_1)!0.8!(C_1)$);
\tkzDrawLines[add=1.5 and 0.7](A_1,B_1) \tkzDrawLines[add=0.5 and 0.7](A_1,C_1) \tkzDrawLines[add=0.5 and 0.7](B_1,C_1) \tkzDrawLines[add=1.5 and 1.7](G_1,D_1) \tkzDrawLines[add=1.5 and 1.7](G_1,E_1)
\tkzDrawPoints[size=5,fill=black](A_1,B_1,C_1,G_1,D_1,E_1)
 \tkzDrawLines[add=1.3 and 1.2](A_2,B_2) \tkzDrawLines[add=1.3 and 1.2](A_2,C_2) 
\draw[-] (-2,-0.5)--(2,-0.5); \draw[-] (-2,0)--(2,-3);\draw[-] (2,0)--(-2,-3);
\draw[-] (4,2.5)--(7,-4);\draw[-] (7,2.5)--(4,-4);\draw[-] (4,-2)--(7,-2);\draw[-] (8,1)--(4,-3.5);\draw[-] (3,1)--(7,-3.5);

\end{tikzpicture}


\begin{tikzpicture}[scale=1, line join=round, line cap=round]

\clip (-6,-4) rectangle (10,3);
\draw[-] (-4,2.5)--(-1,-4);\draw[-] (-1,2.5)--(-4,-4);\draw[-] (-4,-2.5)--(-1,-2.5);\draw[-] (-4.5,-4)--(0,0);\draw[-] (-5,0)--(-0.5,-4);
\draw[-] (2,3)--(4,-3);\draw[-] (3,3)--(1,-3);\draw[-] (0,-2)--(6,-2);\draw[-] (0,-3)--(4,2);\draw[-] (5,-3)--(1,2);
\end{tikzpicture}
{Hình vẽ cho trường hợp 5 đường thẳng.}
\label{topo5}
\end{center}


	
Do đó, ta có $N \geq 4 C^4_n + 5 C^5_n = n C^4_n$. Vậy $ k(m-k) \geq C^4_n = \dfrac{m(m-1)}{6}$. Từ đây, ta suy ra
	$$
	k \geq k_0 = \dfrac{1}{2} \Big( m - \sqrt{\dfrac{m^2+2m}{3}} \Big).
	$$ 
	Dễ thấy $k_0 > \dfrac{m}{5}$ khi $n \geq 9$ và khi $n=8$, ta có $k_0 > [\dfrac{m}{5}] =4$. Vậy với $n \geq 8$ ta có $k > \Big[  \dfrac{(n-1)(n-2)}{10} \Big]$. Với $n \leq 7$, hiển nhiên ta có điều phải chứng minh khi $n \leq 4$ vì khi đó $[\dfrac{m}{5}]=0$.\\
	 Với các trường hợp $k=5,6,7$ ta có hình minh họa lần lượt như sau
	
\begin{center}
	\begin{tikzpicture}[scale=1, line join=round, line cap=round]
	\clip (-6,-4) rectangle (10,4);
	%%%%%%%%%%%%%%%
	\tkzDefPoints{-4/2/A,-2/1/B,-2.3/-2/C,-5/-2/D,-5.2/1/E}
	\tkzDrawLines[add=0.5 and 0.7](A,C) \tkzDrawLines[add=0.5 and 0.7](A,D)\tkzDrawLines[add=0.5 and 0.7](D,B)\tkzDrawLines[add=0.5 and 0.7](E,C)\tkzDrawLines[add=0.5 and 0.7](A,D)\tkzDrawLines[add=0.5 and 0.7](E,B)
	\draw[-] (3,4)--(1,-4);\draw[-] (2,4)--(6,-4);\draw[-] (0,-3.5)--(6,-2); \draw[-] (0,-3)--(7,-3);\draw[-] (7,-3.5)--(1,3);\draw[-] (0,-4)--(4,3);
	\end{tikzpicture}
	
	\begin{tikzpicture}[scale=1, line join=round, line cap=round]

	\clip (-6,-4) rectangle (6,4);
	\draw[-] (0.5,4)--(-2,-4);	\draw[-] (-0.5,4)--(2,-4);	\draw[-] (-4,-2)--(4,-2);	\draw[-] (-3,-4)--(3,4);	\draw[-] (3,3.4)--(-4,-2.5);	\draw[-] (-3,4)--(3,-4);	\draw[-] (4,-3)--(-3,3.7);
	
	\end{tikzpicture}
\end{center}  
\end{itemize}
Vậy trong mọi trường hợp ta đều có $k \geq \Big[  \dfrac{(n-1)(n-2)}{10} \Big].$

Ý (b) được suy ra ngay từ ý (a), ta có với $n=5,6,7$ thì $k$ bằng chính xác $\Big[  \dfrac{(n-1)(n-2)}{10} \Big]$. \\
\textit{\underline{Chú ý.}} Ta để ý là vì mọi bộ 5 đường thẳng tạp ra nhiều nhất 7 bộ ba loại II.\\
Do đó, có thể chứng minh rằng tồn tại một đường thẳng chia mặt phẳng thành 2 phần sao cho có một phần chứa ít hơn $(\dfrac{1}{2} - \dfrac{1}{2 \sqrt{15}})m$ giao điểm.
}
\end{ex}

\begin{ex}%[HSG Thổ Nhĩ Kỳ năm 2018, vòng 1]%[Nguyễn Tuấn Anh, Dự án EX-Nat.MO-18]%[1D0G6]
Trong một lễ cưới ở làng A - vốn nổi tiếng với $25$ loại món ăn, một số người sẽ được mời từ làng B. Mỗi người từ làng B thích ít nhất một trong số $25$ món ăn này và mỗi món ăn được yêu thích bởi ít nhất một người từ B. Nhóm người được mời từ B được gọi là danh sách mời hợp lý nếu mỗi món ăn được yêu thích bởi ít nhất một người được mời. Một nhóm người từ B được gọi là nhóm kamber nếu nó chứa ít nhất một thành viên từ mỗi danh sách mời hợp lý bất kỳ. Chứng minh rằng nếu một nhóm kamber  không có tập hợp con thực sự là nhóm kamber thì tồn tại một món ăn mà mọi người trong nhóm đều thích.
\loigiai{
 Kí hiệu các món ăn là $f_1,f_2,\ldots,f_{25}$. Đối với mỗi $1\leq i\leq 25$, gọi $F_i$ là tập tất cả những người từ $B$ thích món $f_i$. Gọi $L_1, L_2,\ldots,L_n$ là tất cả các danh sách mời thích hợp. Theo định nghĩa, chúng ta có $F_i\cap L_j\ne \varnothing$ với mọi $1\leq i\leq 25$ và $1\leq j\leq n$. Lưu ý rằng tập hợp S là một nhóm kamber khi và chỉ khi $S\cap L_j\ne\varnothing$ với mọi $1\leq j\leq n$. Do đó, mỗi $F_i$ là nhóm kamber.\\
Gọi X là nhóm kamber không có nhóm con thực sự là nhóm kamber. Chúng ta sẽ chỉ ra $ F_i\subseteq X$ với một số $i$ nào đó. Giả sử ngược lại. Tức là, với mỗi số $1\leq i\leq 25$ ta có $F\backslash X\ne \varnothing$. Giả sử $L = \{x_1, x_2,\ldots, x_{25}\}$ trong đó $x_i\in F_i\backslash  X$, với $1\leq i\leq 25$. Khi đó, ta có $L\cap F_i\ne \varnothing$ với mọi $1\leq i\leq 25$ và do đó, chúng ta thấy rằng $L$ là một danh sách lời mời thích hợp. Tuy nhiên, bằng cách xây dựng, $L$ và $X$ là các tập hợp rời nhau, mâu thuẫn với $X$ là nhóm kamber. Do đó, yêu cầu cần chỉ ra là đúng tức là,  tồn tại một $i$ sao cho $F_i\subseteq X$. Mặt khác, $F_i$ là một nhóm kamber và do đó, nó không thể là một tập hợp con thực sự của $X$. Do đó, chúng ta nhận được $F_i = X$ vậy nên, tất cả mọi người trong $X$ thích món $f_i$.
}
\end{ex}

\begin{ex}%[HSG Thổ Nhĩ Kỳ năm 2018, vòng $2$]%[Đặng Tân Hoài, Dự án EX-Nat.MO-18]%[1D0G6]
			Cho một số hữu hạn các thanh dọc có chiều dài 2017 được cố định trên một vài tấm kim loại. Trên mỗi thanh có một hạt mà nó trượt tự do trên thanh đó. Một vài cặp hạt được nối với nhau bằng dây đàn hồi. Ant (em) tự do di chuyển trên tất cả các dây. Còn Ant (anh) tự do di chuyển trên tất cả các dây mà độ chênh lệch chiều cao của các điểm cuối là $\pm 1.$ Giả sử rằng xuất phát ở bất kì hạt nào, Ant (em) có thể đến bất kì hạt khác. Cấu hình của hạt mà khi mỗi hạt được đặt ở vị trí là số nguyên và độ cao hai điểm cuối của bất kì dây nào đều khác nhau, được gọi là cấu hình chấp nhận được. Biết rằng có ít nhất một cấu hình chấp nhận được của thiết bị này, chứng minh rằng tồn tại một cấu hình chấp nhận được mà Ant (anh) xuất phát ở bất kì hạt nào cũng có thể đến bất kì hạt khác.
			\loigiai{ Ta hãy cải cách bài toán trong giới hạn về lý thuyết đồ thị. Cho $G$ là một đường gấp khúc. Giả sử mỗi đỉnh của $G$ được tô màu thích hợp trong số các màu $0,1,\ldots ,2017:$ các điểm cuối của mỗi cạnh được tô màu khác nhau. Gọi $f(x)$ là một màu của đỉnh $x.$ Chứng minh rằng có thể đổi màu các đỉnh của $G$ thích hợp thành các màu $0,1,\ldots ,2017$ sao cho\\
				Với bất kì hai đỉnh $a$ và $b$ có một đường nối $a=x_1,x_2,\ldots ,x_n=b$ thỏa mãn với mỗi $i=1,\ldots ,n-1$ ta có \[\left|f(x_i)-f(x_{i+1})\right|=1. \tag{$*$}\]
				Xét bất kì màu thích hợp của $G.$ Gọi $G_1$ là một nhánh cực đại của $G$ thỏa mãn $(*).$ Hãy chỉ ra cách đổi màu một số đỉnh mà ta có thể tăng số đỉnh của $G_1$. Với bất kì đồ thị $G',$ tập các đỉnh của $G'$ sẽ được kí hiệu là $V(G').$ Gọi 
				\[ \underset{\substack{x \in V(G_1),\\y \in V(G-G_1)}}{\min}\left( \left|f(x)-f(y)\right| \right)=\left|f(x_0)-f(y_0)\right|,\]
				theo định nghĩa $\left|f(x_0)-f(y_0)\right| >1.$\\
				Giả sử $f(x_0)>f(y_0).$ Ta đổi màu vài đỉnh của $G-G':$ các đỉnh màu $f(y_0)$ thành $f(x_0)-1$ và các đỉnh màu $f(x_0)-1$ thành $f(y_0).$ Khi đó, dễ thấy đường gấp khúc vẫn được tô màu một cách thích hợp. Thật vậy, trong $G-G_1$ ta chỉ hoán đổi qua lại các màu $f(x_0)-1$ và $f(y_0).$ Chú ý rằng, vì $\left|f(x_0)-f(y_0)\right|$ là cực tiểu sau khi đổi màu nên điều kiện $f(x) \neq f(y),~\forall x \in G_1,~y \in G-G_1$ vẫn xảy ra.\\
				Trong trường hợp ngược lại $f(x_0)<f(y_0),$ ta cũng sẽ đổi màu các đỉnh của $G-G':$ các đỉnh màu $f(y_0)$ thành $f(x_0)+1$ và các đỉnh màu $f(x_0)+1$ thành $f(y_0).$\\
				Như vậy, sau khi đổi màu thì tập $V(G_1)$ sẽ được thêm ít nhất một phần tử mới $y_0.$ Bằng cách tiếp tục quá trình này, cuối cùng ta sẽ nhận được màu mong muốn của toàn bộ $G$ thỏa mãn $(*).$
			}
		\end{ex}

